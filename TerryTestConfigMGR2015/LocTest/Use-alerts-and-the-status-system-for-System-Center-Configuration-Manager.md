---
title: "使用 System Center Configuration Manager 的警报和状态系统"
ms.custom: na
ms.date: 09/02/2016
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: 
  - configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
applies_to: 
  - System Center Configuration Manager (current branch)
ms.assetid: 7341cc6e-9e08-41e4-bcc6-6c1ff12e85ca
caps.latest.revision: 10
caps.handback.revision: 9
---
# 使用 System Center Configuration Manager 的警报和状态系统
配置警报，并使用内置的状态系统以保持对你的 [!INCLUDE[cm6long](../LocTest/includes/cm6long_md.md)] 部署状态的了解。  
  
-   [系统状态](#bkmk_Status)  
  
    -   [配置状态系统的过程](#bkmk_configstatus)  
  
-   [监视 Configuration Manager 的状态系统](#BKMK_MonitorSystemStatus)  
  
    -   [管理站点状态和组件状态](#bkmk_managestatus)  
  
    -   [查看状态消息](#bkmk_view)  
  
-   [警报](#bkmk_Alerts)  
  
    -   [警报的管理任务](#BKMK_Manage)  
  
    -   [监视器警报](#BKMK_MonitorAlerts)  
  
##  <a name="bkmk_Status"></a> 系统状态  
 所有主要站点组件都会生成状态消息，以提供有关站点和层次结构操作的反馈。    此信息可以使你保持对不同站点进程的运行状况的了解。 你可以将警报系统调整为忽略已知问题的干扰，同时增加对可能需要你关注的其他问题提前预见性。  
  
 默认情况下，通过使用适用于大多数环境的设置，[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 状态系统无需配置即可工作。 不过，可以配置下列几项：  
  
-   **状态摘要生成器：**可以在每个站点编辑状态摘要生成器，以控制为以下四种摘要生成器生成状态指示器更改的状态消息频率：  
  
    -   应用程序部署摘要生成器  
  
    -   应用程序统计摘要生成器  
  
    -   组件状态摘要生成器  
  
    -   站点系统状态摘要生成器  
  
-   **状态筛选规则：**可以在每个站点创建新的状态筛选规则、修改规则的优先级、禁用或启用规则以及删除未使用的规则。  
  
    > [!NOTE]  
    >  状态筛选规则不支持使用环境变量来运行外部命令。  
  
-   **状态报告：**可以配置服务器和客户端组件报告以修改将状态消息报告给 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 状态系统的方式，并指定发送状态消息的位置。  
  
    > [!WARNING]  
    >  由于默认的报告设置适用于大多数环境，因此请小心更改这些设置。 在通过选择报告所有状态详细信息来提高状态报告的级别时，你可能会增加要处理的状态消息的数量，从而增加 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 站点上的处理负载。 如果降低状态报告的级别，则可能会限制状态摘要生成器的实用性。  
  
 由于状态系统会为每个站点维护独立的配置，因此必须逐个编辑每个站点。  
  
###  <a name="bkmk_configstatus"></a> 配置状态系统的过程  
  
##### 配置状态摘要生成器  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，依次导航到“管理”，“站点配置”，“站点”，然后选择要为其配置状态系统的站点。  
  
2.  在“主页”选项卡上的“设置”组中，单击“状态摘要生成器”。  
  
3.  在“状态摘要生成器”对话框中，选择要配置的状态摘要生成器，然后单击“编辑”以打开该摘要生成器的属性。 如果你正在编辑应用程序部署或应用程序统计摘要生成器，请继续执行步骤 5。 如果你正在编辑组件状态，请跳到步骤 6。 如果你正在编辑站点系统状态摘要生成器，请跳到步骤 7。  
  
4.  在打开应用程序部署摘要生成器或应用程序统计摘要生成器的属性页面之后，执行下列步骤：  
  
    1.  在摘要生成器属性页面的“常规”选项卡上，配置摘要间隔，然后单击“确定”以关闭属性页面。  
  
    2.  单击“确定”以关闭“状态摘要生成器”对话框和完成本过程。  
  
5.  在打开组件状态摘要生成器的属性页面之后，执行下列步骤：  
  
    1.  在摘要生成器属性页面的“常规”选项卡上，配置复制和阈值期的值。  
  
    2.  在“阈值”选项卡上，选择要配置的“消息类型”，然后在“阈值”列表中单击组件的名称。  
  
    3.  在“状态阈值属性”对话框中，编辑警告阈值和关键阈值的值，然后单击“确定”。  
  
    4.  根据需要重复步骤 6.b 和 6.c。在完成时，单击“确定”以关闭摘要生成器属性页面。  
  
    5.  单击“确定”以关闭“状态摘要生成器”对话框和完成本过程。  
  
6.  在打开站点系统状态摘要生成器的属性页面之后，执行下列步骤：  
  
    1.  在摘要生成器属性页面的“常规”选项卡上，配置复制和计划的值。  
  
    2.  在“阈值”选项卡上，指定“默认阈值”的值，以配置关键和警告状态显示的默认阈值。  
  
    3.  若要编辑特定“存储对象”的值，请从“特定阈值”列表中选择对象，然后单击“属性”按钮，以访问和编辑存储对象的警告阈值和关键阈值。 单击“确定”以关闭存储对象属性页面。  
  
    4.  若要创建新的存储对象，请单击“创建对象”按钮，然后指定存储对象的值。 单击“确定”以关闭对象属性页面。  
  
    5.  若要删除存储对象，请选择对象，然后单击“删除”按钮。  
  
    6.  根据需要重复步骤 7.b 到 7.e。 在完成时，单击“确定”以关闭摘要生成器属性页面。  
  
    7.  单击“确定”以关闭“状态摘要生成器”对话框和完成本过程。  
  
##### 创建状态筛选规则  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，依次导航到“管理”，“站点配置”，“站点”，然后选择要为其配置状态系统的站点。  
  
2.  在“主页”选项卡上的“设置”组中，单击“状态筛选规则”。 此时打开“状态筛选规则”对话框。  
  
3.  单击**“创建”**。  
  
4.  在“创建状态筛选规则向导”中，在“常规”页上指定新的状态筛选规则的名称和规则的消息匹配条件，然后单击“下一步”。  
  
5.  在“操作”页上，指定在状态消息匹配筛选规则时要执行的操作，然后单击“下一步”。  
  
6.  在“摘要”页上，查看新规则的详细信息，然后完成此向导。  
  
    > [!NOTE]  
    >  [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 仅要求新的状态筛选规则具有名称。 如果创建了规则，但没有指定任何条件以处理状态消息，则状态筛选规则将无效。 利用此行为，你可以在为每个规则配置状态筛选条件之前创建并组织规则。  
  
##### 修改或删除状态筛选规则  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，依次导航到“管理”，“站点配置”，“站点”，然后选择要为其配置状态系统的站点。  
  
2.  在“主页”选项卡上的“设置”组中，单击“状态筛选规则”。  
  
3.  在“状态筛选规则”对话框中，选择要修改的规则，然后执行下列操作之一：  
  
    -   单击“提高优先级”或“降低优先级”，以更改状态筛选规则的处理顺序。 然后，选择另一项操作，或者转到本过程的步骤 8 以完成此任务。  
  
    -   单击“禁用”或“启用”以更改规则状态。 在更改规则状态之后，选择另一项操作，或者转到本过程的步骤 8 以完成此任务。  
  
    -   如果想从此站点中删除状态筛选规则，则单击“删除”，再单击“是”以确认操作。 在删除规则之后，选择另一项操作，或者转到本过程的步骤 8 以完成此任务。  
  
    -   如果想更改状态消息规则的条件，则单击“编辑”，然后继续执行本过程的步骤 5。  
  
4.  在状态筛选规则属性对话框的“常规”选项卡上，修改规则和消息匹配条件。  
  
5.  在“操作”选项卡上，修改在状态消息匹配筛选规则时要执行的操作。  
  
6.  单击“确定”以保存更改。  
  
7.  单击“确定”以关闭“状态筛选规则”对话框。  
  
##### 配置状态报告  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，依次导航到“管理”，“站点配置”，“站点”，然后选择要为其配置状态系统的站点。  
  
2.  在“主页”选项卡上的“设置”组中，单击“配置站点组件”，然后选择“状态报告”。  
  
3.  在“状态报告组件属性”对话框中，指定要报告或记录的服务器和客户端组件状态消息：  
  
    1.  将“报表”配置为向 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 状态消息系统发送状态消息。  
  
    2.  配置“日志”，以便将状态消息的类型和严重性写入到 Windows 事件日志中。  
  
4.  单击"**确定**"。  
  
###  <a name="BKMK_MonitorSystemStatus"></a> 监视 Configuration Manager 的状态系统  
 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 中的**系统状态**提供了层次结构的一般站点操作和站点服务器操作的概览。 它可以揭示站点系统服务器或组件的操作问题，并且你可以使用系统状态来查看不同 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 操作的特定详细信息。 从 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中“监视”工作区的“系统状态”节点监视系统状态。  
  
 大多数 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 站点系统角色和组件都会生成状态消息。 状态消息详细信息记录在每个组件操作日志中，但也会提交到站点数据库，在站点数据库中，将对这些详细信息进行汇总，并呈现在每个组件的一般性汇总或站点系统运行状况中。 这些状态消息汇总提供正常操作的信息详情以及警告和错误详细信息。 你可以配置触发警告或错误时的阈值，并对系统进行微调以确保汇总信息忽略与你不相关的已知问题，同时引起对你可能需要调查的服务器或组件操作实际问题的关注。  
  
 系统状态将以站点数据（而非全局数据）的形式复制到层次结构中的其他站点。 这意味着，你只能看到你的 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台连接到的站点以及该站点下的任何子站点的状态。 因此，在查看系统状态时，请考虑将你的 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台连接到层次结构的顶层站点。  
  
 使用下表来确定不同的系统状态视图以及何时使用各个视图。  
  
|节点|更多信息|  
|--------|----------|  
|站点状态|使用此节点来查看每个站点系统的状态汇总，以查看每个站点系统服务器的运行状况。 站点系统运行状况由你在“站点系统状态摘要生成器”中为每个站点配置的阈值确定。<br /><br /> 你可以查看每个站点系统的状态消息、为状态消息设置阈值，以及使用“Configuration Manager 服务管理器”来管理站点系统上组件的操作。|  
|组件状态|使用此节点来查看每个 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 组件的状态汇总，以查看组件的操作运行状况。 组件运行状况由你在“组件状态摘要生成器”中为每个站点配置的阈值确定。<br /><br /> 你可以查看每个组件的状态消息、为状态消息设置阈值，以及使用“Configuration Manager 服务管理器”来管理组件的操作。|  
|冲突的记录|使用此节点来查看有关可能具有冲突记录的客户端的状态消息。<br /><br /> [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 使用硬件 ID 来尝试标识可能重复的客户端，并向你发出有关冲突的记录的警报。 例如，你必须重新安装计算机，则硬件 ID 将相同，但 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 使用的 GUID 可能已更改。|  
|状态消息查询|使用此节点来查询状态消息以了解特定事件和相关详细信息。 你可以使用状态消息查询来查找与特定事件相关的状态消息。<br /><br /> 你通常可使用状态消息查询来确定特定组件、操作或 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 对象的修改时间，以及用于进行修改的帐户。 例如，你可以运行针对“已创建、已修改或已删除的集合”的内置查询来确定特定集合的创建时间，以及用于创建该集合的用户帐户。|  
  
####  <a name="bkmk_managestatus"></a> 管理站点状态和组件状态  
 使用以下信息来管理站点状态和组件状态：  
  
-   要为状态系统配置阈值，请参阅[配置状态系统的过程](#bkmk_configstatus)。  
  
-   要管理 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 中的各个组件，请使用 **[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] Service Manager**。  
  
####  <a name="bkmk_view"></a> 查看状态消息  
 你可以查看单独的站点系统服务器和组件的状态消息。  
  
 要在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中查看状态消息，请选择特定站点系统服务器或组件，然后单击“显示消息”。 在查看消息时，你可以选择查看特定消息类型或指定时间段中的消息，并且可以基于状态消息详细信息对结果进行筛选。  
  
##  <a name="bkmk_Alerts"></a> 警报  
 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 警报由在特定情况下发生的某些操作生成。  
  
-   通常，在发生必须解决的错误时，将会生成警报  
  
-   可能会生成警报来警告你存在某种情况，以便继续对该情况进行监视  
  
-   你可以配置某些警报（例如针对 Endpoint Protection 和客户端状态的警报），而其他警报将自动配置  
  
-   你可以将订阅配置为随后可通过电子邮件发送详细信息的警报，从而提高对关键问题的感知  
  
 使用下表来了解有关如何在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 中配置警报和警报订阅的信息：  
  
|操作|更多信息|  
|--------|----------|  
|为集合配置 [!INCLUDE[epshort](../LocTest/includes/epshort_md.md)] 警报|请参阅[在 System Center Configuration Manager 中配置 Endpoint Protection](../LocTest/Configuring-Endpoint-Protection-in-System-Center-Configuration-Manager.md) 中的**如何为 Configuration Manager 中的 Endpoint Protection 配置警报**|  
|为集合配置客户端状态警报|请参阅 [如何在 System Center Configuration Manager 中配置客户端状态](../LocTest/How-to-configure-client-status-in-System-Center-Configuration-Manager.md)。|  
|管理 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 警报|请参阅本主题中的[警报的管理任务](#BKMK_Manage)部分。|  
|配置对警报的电子邮件订阅|请参阅本主题中的[警报的管理任务](#BKMK_Manage)部分。|  
|监视器警报|请参阅[监视器警报](#BKMK_MonitorAlerts)部分。|  
  
###  <a name="BKMK_Manage"></a> 警报的管理任务  
  
##### 若要管理常规警报  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，依次导航到“监视”，“警报”，然后选择管理任务。  
  
     使用下表以详细了解可能需要一些信息才能让你选择的管理任务。  
  
    |管理任务|详细信息|  
    |----------|----------|  
    |**配置**|打开 *\<警报名称\>*“属性”对话框，在该对话框中，你可以修改所选警报的名称、严重性和阈值。 如果更改警报的严重性，此配置会影响警报在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中的显示方式。|  
    |**编辑注释**|为所选警报输入注释。 这些注释与警报一同显示在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中。|  
    |**推迟**|挂起警报监视，直至达到指定的日期。 达到指定日期时，将更新警报的状态。<br /><br /> 仅当启用了警报后，才能推迟警报。|  
    |**创建订阅**|打开“新建订阅”对话框，在该对话框中，你可以创建针对所选警报的电子邮件订阅。|  
  
##### 若要为集合配置 Endpoint Protection 警报  
  
1.  挂起  
  
##### 若要为集合配置客户端状态警报  
  
1.  在 [!INCLUDE[cmconsole](../LocTest/includes/cmconsole_md.md)] 中，单击“资产和符合性”\>“设备集合”。  
  
2.  在“设备集合”列表中，选择要为其配置警报的集合，然后，在“主页”选项卡中，在“属性”组中单击“属性”。  
  
    > [!NOTE]  
    >  无法为用户集合配置警报。  
  
3.  在 *\<Collection Name\>*“属性”对话框的“警报”选项卡上，单击“添加”。  
  
    > [!NOTE]  
    >  仅在与你关联的安全角色具有警报的权限时，“警报”选项卡才可见。  
  
4.  在“添加新的集合警报”对话框中，选择要在客户端状态阈值低于特定值时生成的警报，然后单击“确定”。  
  
5.  在“警报”选项卡的“条件”列表中，选择每个客户端状态警报，然后指定下列信息。  
  
    -   “警报名称”\- 接受默认名称，或者输入新的警报名称。  
  
    -   “警报严重性” – 从下拉列表中，选择将显示在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台的警报级别。  
  
    -   “引发警报”\- 指定警报的阈值百分比。  
  
6.  单击“确定”关闭 *\<Collection Name\>*“属性”对话框。  
  
##### 若要为警报配置电子邮件通知  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，依次导航到“监视”，“警报”，“订阅”。  
  
2.  在“主页”选项卡上的“创建”组中，单击“配置电子邮件通知”。  
  
3.  在“电子邮件通知组件属性”对话框中，指定以下信息：  
  
    -   “为警报启用电子邮件通知”：选中此复选框可让 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 使用 SMTP 服务器发送电子邮件警报。  
  
    -   “用于发送电子邮件警报的 SMTP 服务器的 FQDN 或 IP 地址”：输入希望用于发送这些警报的电子邮件服务器的完全限定域名 \(FQDN\) 或 IP 地址和 SMTP 端口。  
  
    -   “SMTP 服务器连接帐户”：为将用于连接电子邮件服务器的 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 指定身份验证方法。  
  
    -   **电子邮件警报的发件人地址**：指定从其发送警报电子邮件的电子邮件地址。  
  
    -   “测试 SMTP 服务器”：向“电子邮件警报的发件人地址”中指定的电子邮件地址发送一封测试电子邮件。  
  
4.  单击“确定”以保存设置并关闭“电子邮件设置组件属性”对话框。  
  
##### 若要订阅电子邮件警报  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，依次导航到“监视”，“警报”。  
  
2.  选择一个警报，然后在“主页”选项卡上的“订阅”组中，单击“创建订阅”。  
  
3.  在“新建订阅”对话框中，指定下列信息：  
  
    -   “名称”：输入一个名称以标识此电子邮件订阅。 最多可以使用 255 个字符。  
  
    -   “电子邮件地址”：输入你希望将警报发送到的电子邮件地址。 可以使用分号分隔多个电子邮件地址。  
  
    -   “电子邮件语言”：在列表中，指定电子邮件的语言。  
  
4.  单击“确定”关闭“新建订阅”对话框并创建电子邮件订阅。  
  
    > [!NOTE]  
    >  你可以展开“警报”节点，然后单击其中的“订阅”节点，删除和编辑“监视”工作区中的订阅。  
  
###  <a name="BKMK_MonitorAlerts"></a> 监视器警报  
 你可以在“监视”工作区的“警报”节点中查看警报。 警报具有以下警报状态之一：  
  
-   “从未触发”：未满足警报的条件。  
  
-   “活跃”：已满足警报的条件。  
  
-   “已取消”：不再满足活跃警报的条件。 此状态指示导致警报的情况现在已解决。  
  
-   “已推迟”：管理用户配置了 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 以稍后评估警报的状态。  
  
-   “已禁用”：管理用户已禁用了警报。 当警报处于此状态时，即使警报的状态发生更改，[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 也不会更新警报。  
  
 当 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 生成警报时，你可以执行以下操作之一：  
  
-   解决导致警报的情况，例如，解决生成警报的网络问题或配置问题。[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 检测到问题不再存在之后，警报状态更改为“取消”。  
  
-   如果警报为已知问题，你可以将警报推迟特定的一段时间。 在那时，[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 会将警报更新为其当前状态。  
  
     只有当警报处于活动状态时，你才能将其推迟。  
  
-   你可以编辑警报的“备注”，以便其他管理用户可以看到你察觉到了该警报。 例如，你可以在备注中确定如何解决该情况，提供有关该情况的当前状态的信息，或解释推迟警报的原因。  
  
## 请参阅  
 [监视和维护 System Center Configuration Manager](../LocTest/Monitor-and-maintain-System-Center-Configuration-Manager.md)