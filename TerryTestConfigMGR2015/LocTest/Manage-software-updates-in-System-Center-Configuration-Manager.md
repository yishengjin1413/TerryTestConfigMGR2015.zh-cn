---
title: "在 System Center Configuration Manager 中管理软件更新"
ms.custom: na
ms.date: 09/02/2016
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: 
  - configmgr-sum
ms.tgt_pltfrm: na
ms.topic: article
applies_to: 
  - System Center Configuration Manager (current branch)
ms.assetid: 70f66926-c067-404d-94f1-3ad1309566a6
caps.latest.revision: 17
caps.handback.revision: 17
---
# 在 System Center Configuration Manager 中管理软件更新
[!INCLUDE[cm6long](../LocTest/includes/cm6long_md.md)] 中的软件更新的总体过程包括四个主要操作阶段：同步、符合性评估、部署和监视。 同步阶段是指将软件更新元数据与 Microsoft 更新同步并将其插入到站点服务器数据库中的过程。 符合性评估阶段是指客户端计算机执行扫描以了解软件更新符合性并报告软件更新符合性状态的过程。 部署阶段是指将软件更新手动或自动部署到客户端的过程。 最后，监视阶段是指对软件更新部署符合性进行跟踪监视的过程。  
  
> [!IMPORTANT]  
>  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中显示软件更新符合性评估数据之前，以及在将软件更新部署到客户端之前，你必须仔细地规划层次结构中的软件更新并配置软件更新依赖关系以满足环境需求。 有关规划软件更新的详细信息，请参阅[在 System Center Configuration Manager 中规划软件更新](../LocTest/Plan-for-software-updates-in-System-Center-Configuration-Manager.md)。 有关配置软件更新的详细信息，请参阅[在 System Center Configuration Manager 中配置软件更新](../LocTest/Configure-software-updates-in-System-Center-Configuration-Manager.md)。  
  
 本主题中的以下部分将帮助你在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)]中执行软件更新的操作阶段：  
  
-   [同步软件更新](#BKMK_SUMSync)  
  
-   [下载软件更新](#BKMK_DownloadUpdates)  
  
-   [管理软件更新设置](#BKMK_ManageSUSettings)  
  
    -   [查看软件更新信息](#BKMK_SoftwareUpdatesInformation)  
  
        -   [软件更新详细信息](#BKMK_SoftwareUpdateDetails)  
  
        -   [内容信息](#BKMK_ContentInformation)  
  
        -   [自定义捆绑信息](#BKMK_CustomBundleInformation)  
  
        -   [取代信息](#BKMK_SupersedenceInformation)  
  
    -   [配置软件更新设置](#BKMK_SoftwareUpdatesSettings)  
  
        -   [设置最长运行时间](#BKMK_SetMaxRunTime)  
  
        -   [设置自定义严重性](#BKMK_SetCustomSeverity)  
  
-   [将软件更新添加到更新组](#BKMK_AddUpdatesToGroup)  
  
-   [部署软件更新](#BKMK_SUMDeploy)  
  
    -   [手动部署软件更新](#BKMK_ManualDeploy)  
  
        -   [步骤 1：指定软件更新的搜索条件](#BKMK_1SearchCriteria)  
  
        -   [步骤 2：创建包含软件更新的软件更新组](#BKMK_2UpdateGroup)  
  
        -   [步骤 3：下载软件更新组的内容](#BKMK_3DownloadContent)  
  
        -   [步骤 4：部署软件更新组](#BKMK_4DeployUpdateGroup)  
  
    -   [自动部署软件更新](#BKMK_AutoDeploy)  
  
        -   [将软件更新添加到更新组](#BKMK_AddUpdatesToGroup)  
  
        -   [创建自动部署规则 (ADR)](#BKMK_CreateAutomaticDeploymentRule)  
  
            -   [将新的部署添加到现有 ADR](#BKMK_AddDeploymentToADR)  
  
-   [计划和运行 WSUS 清理任务](#BKMK_WSUSCleanUp)  
  
##  <a name="BKMK_SUMSync"></a> 同步软件更新  
 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 中的软件更新同步是指检索满足你配置的条件的软件更新元数据的过程。 管理中心站点或独立主站点上的软件更新点按预先确定的计划从 Microsoft 更新中检索元数据。 或者，你也可以从 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中手动启动元数据同步。 在管理中心站点上完成软件更新同步后，该站点会向子主站点发送同步请求，以指示它们启动同步。 有关软件更新同步的详细信息，请参阅 [Software updates synchronization](../LocTest/Introduction-to-software-updates-in-System-Center-Configuration-Manager.md#BKMK_Synchronization)。  
  
 你可以将软件更新同步配置为作为顶层站点上软件更新点的部分属性按计划运行。 配置同步计划之后，你通常将不会在正常操作过程中更改该计划。 但是，必要时可以手动启动软件更新同步。 有关配置软件更新同步计划的信息，请参阅 [Step 2: Synchronize Software Updates](../LocTest/Configure-software-updates-in-System-Center-Configuration-Manager.md#BKMK_SUMSync)。  
  
 请按下列步骤手动启动软件更新同步。  
  
#### 在管理中心站点上手动启动软件更新同步  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，展开“软件更新” ，然后单击“所有软件更新”  或“软件更新组” 。  
  
3.  在“主页”  选项卡上的“创建”  组中，单击“同步软件更新” 。 单击“是”  确认要启动同步过程。  
  
 启动同步过程之后，你可以使用 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台在层次结构中针对所有软件更新点监视此过程。 使用下列过程来监视软件更新同步过程。  
  
#### 监视软件更新同步过程  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“监视” 。  
  
2.  在“监视”工作区中，单击“软件更新点同步状态” 。  
  
     结果窗格显示 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 层次结构中的软件更新点。 从此视图中，你可以监视所有软件更新点的同步状态。 要获取关于同步过程的更多详细信息，请查看位于每个站点服务器上 <*ConfigMgrInstallationPath*>\Logs 中的 wsyncmgr.log 文件。  
  
##  <a name="BKMK_DownloadUpdates"></a> 下载软件更新  
 你可以使用一些方法在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)]中下载软件更新。 创建自动部署规则 (ADR) 或手动部署软件更新后，会将软件更新下载到站点服务器上的内容库中，然后将其复制到与已配置部署包关联的分发点上的内容库中。 如果要在部署软件更新之前下载软件更新，则可以使用下载更新向导。 通过执行此操作，你可以在将软件更新部署到客户端计算机之前验证软件更新在分发点上是否可用。  
  
> [!NOTE]  
>  有关监视内容状态的信息，请参阅 [Content status monitoring](../LocTest/Monitor-software-updates-in-System-Center-Configuration-Manager.md#BKMK_ContentStatus)。  
  
 使用以下过程和下载软件更新向导下载软件更新。  
  
#### 下载软件更新  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，单击“软件更新” 。  
  
3.  使用以下方法之一选择要下载的软件更新：  
  
    -   从“软件更新组” 中选择一个或多个软件更新组，然后，在“主页”  选项卡上的“更新组”  组中单击“下载” 。  
  
    -   从“所有软件更新” 中选择一个或多个软件更新，然后，在“主页”  选项卡上的“更新”  组中单击“下载” 。  
  
        > [!NOTE]  
        >  在“所有软件更新”  节点上， [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 只显示分类为“严重”  和“安全”  并且已在过去 30 天内发布的软件更新。  
  
        > [!TIP]  
        >  单击“添加条件”  以筛选在“所有软件更新”  节点中显示的软件更新，保存你经常使用的搜索条件，然后在“搜索”  选项卡上管理保存的搜索。  
  
         “下载软件更新向导”  将会打开。  
  
4.  在“部署包”页上配置下列设置：  
  
    1.  “选择部署包”：选择此设置以为部署中的软件更新选择现有部署包。  
  
        > [!NOTE]  
        >  将不会重新下载已经下载到所选部署包的软件更新。  
  
    2.  “创建新部署包”：选择此设置以为部署中的软件更新创建新部署包。 配置下列设置：  
  
        -   “名称”：指定部署包的名称。 此包必须具有简要描述包内容的唯一名称。  它被限制为不超过 50 个字符。  
  
        -   “描述”：指定部署包的描述。 包描述提供有关包内容的信息并且不超过 127 个字符。  
  
        -   “包源”：指定软件更新源文件的位置。 键入源位置的网络路径，例如 **\\\server\sharename\path**，或单击“浏览”来查找网络位置。 在进入到下一页之前，必须为部署包源文件创建共享文件夹。  
  
            > [!NOTE]  
            >  其他软件部署包不能使用你指定的部署包源位置。  
  
            > [!IMPORTANT]  
            >  SMS 提供程序计算机帐户和运行向导下载软件更新的用户都必须对下载位置具有“写”  NTFS 权限。 你应该仔细限制对此下载位置的访问，以减少攻击者篡改软件更新源文件的风险。  
  
            > [!IMPORTANT]  
            >  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 创建了部署包之后，可以在部署包属性中更改包源位置。 但是，如果你执行此操作，则必须首先将原始包源中的内容复制到新包源位置。  
  
     单击“下一步” 。  
  
5.  在“分发点”页上，指定将承载软件更新文件的分发点或分发点组，然后单击“下一步” 。 有关分发点的详细信息，请参阅[分发点配置](../Topic/Install%20and%20configure%20distribution%20points%20for%20System%20Center%20Configuration%20Manager.md#bkmk_configs)。  
  
    > [!NOTE]  
    >  只有当你在创建新软件更新部署包时才能使用“分发点”页。  
  
6.  在“分发设置”页上指定下列设置：  
  
    -   “分发优先级”：使用此设置以指定部署包的分发优先级。 将部署包发送到子站点中的分发点时，将应用分发优先级。 部署包按优先级顺序发送：“高” 、“中” 或“低” 。 具有相同优先级的包按照其创建顺序发送。 如果没有囤积，则将立即处理包，而不考虑其优先级。 默认情况下使用“中”  优先级发送包。  
  
    -   “将此包的内容分发到首选分发点”：使用此设置以启用对首选分发点的按需内容分发。 如果启用此设置，则管理点会为分发管理器创建一个触发器，以在客户端请求包内容以及内容在任何首选分发点上不可用时将内容分发给所有首选分发点。 有关首选分发点和按需内容的详细信息，请参阅 [Content source location scenarios](../LocTest/Fundamental-concepts-for-content-management-in-System-Center-Configuration-Manager.md#bkmk_CSLscenarios)。  
  
    -   “预留分发点设置”：使用此设置以指定希望将内容分发到预留分发点的方式。 选择下列选项之一：  
  
        -   “在将包分配到分发点时自动下载内容”：使用此设置以忽略预留设置，并将内容分发到分发点。  
  
        -   “仅下载对分发点所做的内容更改”：使用此设置以将初始内容预留到分发点，然后将内容更改分发到分发点。  
  
        -   “手动将此包中的内容复制到分发点”：使用此设置以始终在分发点上预留内容。 此为默认设置。  
  
         有关将内容预留到分发点的详细信息，请参阅[使用预留内容](../Topic/Deploy%20and%20manage%20content%20for%20System%20Center%20Configuration%20Manager.md#bkmk_prestage)。  
  
     单击“下一步” 。  
  
7.  在“下载位置”页上，指定 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 将用于下载软件更新源文件的位置。 根据需要，请使用下列选项：  
  
    -   “从 Internet 下载软件更新”：选择此设置以从 Internet 上的位置下载软件更新。 此为默认设置。  
  
    -   “从本地网络上的位置下载软件更新”：选择此设置以从本地文件夹或共享的网络文件夹下载软件更新。 当运行向导的计算机无 Internet 访问权限时使用此设置。  
  
        > [!NOTE]  
        >  如果使用此设置，请从具有 Internet 访问权限的任何计算机中下载软件更新，然后将软件更新复制到可从运行向导的计算机中访问的本地网络上的某个位置。  
  
     单击“下一步” 。  
  
8.  在“语言选择”页上，为已选定要下载的软件更新指定语言，然后单击“下一步” 。 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 只有在选择的语言中可用时，才可以下载软件更新。 始终会下载非特定于语言的软件更新。  
  
9. 在“摘要”页上，验证在向导中选择的设置，然后单击“下一步”  以下载软件更新。  
  
10. 在“完成”页上，验证软件更新是否已成功下载，然后单击“关闭” 。  
  
##  <a name="BKMK_ManageSUSettings"></a> 管理软件更新设置  
 软件更新属性提供了有关软件更新和相关内容的信息。 你也可以使用这些属性为软件更新配置设置。 打开多个软件更新的属性时，仅显示“最大运行时间”  和“自定义严重性”  选项卡。 如果已经下载了所有所选软件更新，则也会显示“NAP 评估”  选项卡。  
  
 使用下面的过程打开软件更新属性。  
  
#### 打开软件更新属性  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，展开“软件更新” ，并单击“所有软件更新” 。  
  
3.  选择一个或多个软件更新，然后在“主页”  选项卡上的“属性”  组中，单击“属性”  。  
  
    > [!NOTE]  
    >  在“所有软件更新”  节点上， [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 只显示分类为“严重”  和“安全”  并且已在过去 30 天内发布的软件更新。  
  
###  <a name="BKMK_SoftwareUpdatesInformation"></a> 查看软件更新信息  
 在软件更新属性中，你可以查看关于软件更新的详细信息。 当你选择多个软件更新时，不会显示详细信息。 以下部分描述可用于所选软件更新的信息。  
  
####  <a name="BKMK_SoftwareUpdateDetails"></a> 软件更新详细信息  
 在“更新详细信息”  选项卡中，你可以查看关于所选软件更新的以下摘要信息：  
  
-   “公告 ID”：指定与安全软件更新相关联的公告 ID。 通过在 [Microsoft Security Bulletin Search（Microsoft 安全公告搜索）](http://go.microsoft.com/fwlink/p/?LinkId=58313) 网页上根据公告 ID 进行搜索，你可以查找安全公告详细信息。  
  
-   “文章 ID”：指定软件更新的文章 ID。 引用的文章提供了关于软件更新以及软件更新所修复或改进的问题的更多详细信息。  
  
-   “修订日期”：指定软件更新的上次修改日期。  
  
-   “最大严重性分级”：指定软件更新的供应商定义的严重性分级。  
  
-   “说明”：概述软件更新所修复或改进的情况。  
  
-   “适用的语言”：列出软件更新适用的语言。  
  
-   “受影响产品”：列出软件更新适用的产品。  
  
####  <a name="BKMK_ContentInformation"></a> 内容信息  
 在“内容信息”  选项卡中，查看与选定软件更新关联内容有关的下列信息：  
  
-   “内容 ID”：指定软件更新的内容 ID。  
  
-   “已下载”：指示 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 是否已下载软件更新文件。  
  
-   “语言”：指定软件更新的语言。  
  
-   “源路径”：指定软件更新源文件的路径。  
  
-   **大小(MB)**：指定软件更新源文件的大小。  
  
####  <a name="BKMK_CustomBundleInformation"></a> 自定义捆绑信息  
 在“自定义捆绑信息”  选项卡中，查看软件更新的自定义捆绑信息。 当选定软件更新包含在软件更新文件中所包含的捆绑软件更新时，它们会显示在“捆绑信息”  部分。 此选项卡不会显示在“内容信息”  选项卡中显示的捆绑软件更新，如不同语言的更新文件。  
  
####  <a name="BKMK_SupersedenceInformation"></a> 取代信息  
 在“取代信息”  选项卡中，你可以查看关于软件更新取代的下列信息：  
  
-   “此更新已由下列更新取代”：指定取代此更新的软件更新，这意味着所列的更新较新。 在大多数情况下，你将部署取代该软件更新的其中一项软件更新。 在列表中显示的软件更新包含提供详细软件更新信息的网页超链接。 当此更新未取代时，将显示“无”  。  
  
-   “此更新会取代下列更新”：指定由此软件更新所取代的软件更新，这意味着此软件更新较新。 在大多数情况下，你将会部署此软件更新以替换取代的软件更新。 在列表中显示的软件更新包含提供详细软件更新信息的网页超链接。 当此更新未取代任何其他更新时，将显示“无”  。  
  
###  <a name="BKMK_SoftwareUpdatesSettings"></a> 配置软件更新设置  
 在属性中，你可以为一个或多个软件更新配置软件更新设置。 你仅可以在管理中心站点或独立主站点中配置大多数软件更新设置。 下列部分将帮助你配置软件更新的设置。  
  
####  <a name="BKMK_SetMaxRunTime"></a> 设置最长运行时间  
 在“最长运行时间”  选项卡中，设置对在客户端计算机上完成某软件更新所分配的最长时间。 如果更新所用时间比最长运行时间的值更长，则 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 将创建状态消息并停止监视软件更新安装的部署。 你仅可以在管理中心站点或独立主站点中配置此设置。  
  
 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 还使用此设置来确定是否在配置的维护时段中启动软件更新安装。 如果最长运行时间的值大于维护时段中的可用剩余时间，则软件更新安装会延迟，直到下个维护时段开始。 当要在具有配置的维护时段（时间段）的客户端计算机上安装多个软件更新时，首先将安装最长运行时间最短的软件更新，然后安装下一个最长运行时间最短的软件更新，并照此类推。 在其安装每个软件更新之前，客户端将验证可用的维护时段是否提供足够时间来安装软件更新。 在软件更新开始安装后，即使安装超过维护时段的结束时间，也将仍然继续安装。 有关维护时段的详细信息，请参阅[如何在 System Center Configuration Manager 中使用维护时段](../LocTest/How-to-use-maintenance-windows-in-System-Center-Configuration-Manager.md)。  
  
 在“最长运行时间”  选项卡上，你可以查看和配置下列设置：  
  
-   “最长运行时间”：指定为完成软件更新安装所分配的最大分钟数，在此时段后， [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)]将不再监视安装。 此设置还用于确定在维护时段结束前是否有足够的可用剩余时间来安装更新。 对于 Service Pack，默认设置为 60 分钟；对于所有其他软件更新类型，默认设置为 5 分钟。 值可以介于 5 至 9999 分钟之间。  
  
> [!IMPORTANT]  
>  确保设置小于配置的维护时段时间的最长运行时间值。 否则，将永远无法启动软件更新安装。  
  
####  <a name="BKMK_SetCustomSeverity"></a> 设置自定义严重性  
 在软件更新属性中，你可以使用“自定义严重性”  选项卡来配置软件更新的自定义严重性值。 如果预定义的严重性值不能满足你的需要，则这项操作可能必不可少。 **控制台的“自定义严重性”**[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 列中列出了自定义值。 你可按定义的自定义严重性值对软件更新排序，并且还可以创建可对这些值进行筛选的查询和报表。 你仅可以在管理中心站点或独立主站点中配置此设置。  
  
 你可以在“自定义严重性”  选项卡上配置下列设置。  
  
-   “自定义严重性”：为软件更新设置自定义的严重性值。 从列表中选择“严重” 、“重要” 、“中” 或“低”  。 默认情况下，自定义严重性值为空。  
  
##  <a name="BKMK_AddUpdatesToGroup"></a> 将软件更新添加到更新组  
 软件更新组会为你提供行之有效的方法来组织你的环境中的软件更新。 你可以将软件更新手动添加到软件更新组，或通过运用 ADR，将软件更新自动添加到软件更新组。 你还可以手动部署软件更新组，或通过运用 ADR 自动部署该组。 在部署软件更新组后，你可以将新的软件更新添加到组， [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 将自动对它们进行部署。 使用下列过程以将软件更新添加到新的或现有的软件更新组。  
  
#### 将软件更新添加到新的软件更新组  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，展开“软件更新” ，然后单击“所有软件更新” 。  
  
3.  选择要添加到新软件更新组的软件更新。  
  
4.  在“主页”  选项卡上的“更新”  组中，单击“创建软件更新组” 。  
  
5.  指定软件更新组的名称并根据需要提供描述。 使用名称和描述提供足够的信息，供你确定软件更新组中软件更新的类型。 要继续，请单击“创建” 。  
  
6.  单击“软件更新组”  以显示新的软件更新组。  
  
7.  选择软件更新组，在“主页”  选项卡内的“更新”  组中，单击“显示成员”  以显示组中所包含的软件更新的列表。  
  
#### 将软件更新添加到现有软件更新组中  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，展开“软件更新” ，然后单击“所有软件更新” 。  
  
3.  选择要添加到新软件更新组的软件更新。  
  
    > [!NOTE]  
    >  在“所有软件更新”  节点上，默认情况下 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 只显示分类为“严重”  和“安全”  并且在过去 30 天内发布的软件更新。  
  
4.  在“主页”  选项卡上的“更新”  组中，单击“编辑成员身份” 。  
  
5.  选择要添加软件更新的软件更新组。  
  
6.  单击“软件更新组”  节点以显示软件更新组。  
  
7.  选择软件更新组，并在“主页”  选项卡中的“更新”  组中单击“显示成员”  ，以显示软件更新组中所包括的软件更新列表。  
  
##  <a name="BKMK_SUMDeploy"></a> 部署软件更新  
 软件更新部署阶段是指部署软件更新的过程。 通常，将软件更新添加到软件更新组，然后将软件更新组部署到客户端。 当你创建部署时，系统会将软件更新策略发送到客户端计算机，从分发点将软件更新内容文件下载至客户端计算机上的本地缓存，然后即可将软件更新安装在客户端上。 Internet 上的客户端将从 Microsoft 更新下载内容。  
  
> [!NOTE]  
>  你可以在 Intranet 上配置客户端，以在未提供分发点时从 Microsoft 更新下载软件更新。  
  
> [!NOTE]  
>  与其他部署类型不同，无论客户端上的最大缓存大小如何设置，所有软件更新均会下载到客户端缓存中。 有关客户端缓存设置的详细信息，请参阅 [Configure the Client Cache for Configuration Manager Clients](../LocTest/How-to-manage-clients-in-System-Center-Configuration-Manager.md#BKMK_ClientCache)。  
  
 如果配置必需的软件更新部署，则软件更新将于计划的截止时间自动安装。 或者，客户端计算机上的用户可以在截止时间前计划或启动软件更新安装。 在尝试的安装后，客户端计算机会将状态消息发回站点服务器以报告软件更新安装是否成功。 有关软件更新部署的详细信息，请参阅 [Software update deployment workflows](../LocTest/Introduction-to-software-updates-in-System-Center-Configuration-Manager.md#BKMK_DeploymentWorkflows)。  
  
 部署软件更新有两个主要方案：手动部署和自动部署。 通常，最初会手动部署软件更新以为客户端计算机创建基线，然后将通过使用自动部署来管理客户端上的软件更新。  
  
 下列部分提供有关软件更新的手动和自动部署工作流的信息和过程。  
  
###  <a name="BKMK_ManualDeploy"></a> 手动部署软件更新  
 手动软件更新部署是从 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中选择软件更新并手动启动部署过程的过程。 或者，你可以将选择的软件更新添加到更新组，然后手动部署更新组。 在创建将管理进行中的每月软件更新部署的 ADR 之前，你通常将使用手动部署以用所需的软件更新使客户端设备保持最新。 你还将使用手动方法来部署带外软件更新。 下列部分提供手动部署软件更新的一般工作流。  
  
####  <a name="BKMK_1SearchCriteria"></a> 步骤 1：指定软件更新的搜索条件  
 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中可能会显示数千个软件更新。 手动部署软件更新的工作流中的第一步是标识想要部署的软件更新。 例如，你可以提供条件，以检索在 50 多台客户端设备上所需要的具有“安全”  或“严重”  软件更新分类的所有软件更新。  
  
> [!IMPORTANT]  
>  可包含在单一软件更新部署中的软件更新的最大数目为 1000。  
  
###### 指定软件更新的搜索条件  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，展开“软件更新” ，并单击“所有软件更新” 。 此时会显示同步的软件更新。  
  
    > [!NOTE]  
    >  在“所有软件更新”  节点上， [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 只显示分类为“严重”  和“安全”  并且已在过去 30 天内发布的软件更新。  
  
3.  在搜索窗格中，使用以下一个或两个步骤进行筛选以标识所需的软件更新：  
  
    -   在搜索文本框中，键入将筛选软件更新的搜索字符串。 例如，键入特定软件更新的文章 ID 或公告 ID，或者输入将出现在一些软件更新的标题中的字符串。  
  
    -   单击“添加条件” ，选择想要用于筛选软件更新的条件，单击“添加” ，然后为此条件提供值。  
  
4.  单击“搜索”  以筛选软件更新。  
  
    > [!TIP]  
    >  你可以选择在“搜索”  选项卡上以及在“保存”  组中保存筛选条件。  
  
####  <a name="BKMK_2UpdateGroup"></a> 步骤 2：创建包含软件更新的软件更新组  
 软件更新组提供了一种有效方法，供你在准备部署过程中组织软件更新。 你可以将软件更新手动添加到软件更新组，或者， [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 可以使用 ADR 将软件更新自动添加到新的或现有的软件更新组。 使用以下过程将软件更新手动添加到新软件更新组中。  
  
###### 将软件更新手动添加到新软件更新组中  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，单击“软件更新” 。  
  
3.  选择要添加到新软件更新组中的软件更新。  
  
4.  在“主页”  选项卡上的“更新”  组中，单击“创建软件更新组” 。  
  
5.  指定软件更新组的名称并根据需要提供描述。 使用名称和描述提供足够的信息，供你确定软件更新组中软件更新的类型。 要继续，请单击“创建” 。  
  
6.  单击“软件更新组”  节点以显示新软件更新组。  
  
7.  选择软件更新组，在“主页”  选项卡内的“更新”  组中，单击“显示成员”  以显示组中所包含的软件更新的列表。  
  
####  <a name="BKMK_3DownloadContent"></a> 步骤 3：下载软件更新组的内容  
 根据需要，在部署软件更新之前，你可以下载包含在软件更新组中的软件更新的内容。 你可以选择执行此操作，以便能够在部署软件更新之前验证内容在分发点上是否可用。 这将有助于你避免内容交付的任何意外问题。 你可以跳过此步骤，内容将在部署过程中下载和复制到分发点。 使用以下过程下载软件更新组中的软件更新的内容。  
  
###### 下载软件更新组的内容  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，展开“软件更新” ，并单击“软件更新组” 。  
  
3.  选择要下载其内容的软件更新组。  
  
4.  在“主页”  选项卡上的“更新组”  组中，单击“下载” 。 “下载软件更新向导”  将会打开。  
  
5.  在“部署包”  页上配置下列设置：  
  
    1.  “选择部署包”：选择此设置以为部署中的软件更新使用现有部署包。  
  
        > [!NOTE]  
        >  将不会重新下载已经下载到所选部署包的软件更新。  
  
    2.  “创建新部署包”：选择此设置以为部署中的软件更新创建新部署包。 配置下列设置：  
  
        -   “名称”：指定部署包的名称。 这必须是描述包内容的唯一名称。 它被限制为不超过 50 个字符。  
  
        -   “描述”：指定部署包的描述。 包描述提供有关包内容的信息并且不超过 127 个字符。  
  
        -   “包源”：指定软件更新源文件的位置。  键入源位置的网络路径，例如 **\\\server\sharename\path**，或单击“浏览”来查找网络位置。 在进入到下一页之前，必须为部署包源文件创建共享文件夹。  
  
            > [!NOTE]  
            >  其他软件部署包不能使用你指定的部署包源位置。  
  
            > [!IMPORTANT]  
            >  SMS 提供程序计算机帐户和运行向导下载软件更新的用户都必须对下载位置具有“写”  NTFS 权限。 你应该仔细限制对此下载位置的访问，以减少攻击者篡改软件更新源文件的风险。  
  
            > [!IMPORTANT]  
            >  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 创建了部署包之后，可以在部署包属性中更改包源位置。 但是，如果你执行此操作，则必须首先将原始包源中的内容复制到新包源位置。  
  
     单击“下一步” 。  
  
6.  在“分发点”页上，选择用于承载新部署包中定义的软件更新文件的分发点或分发点组，然后单击“下一步” 。  
  
7.  在“分发设置”页上指定下列设置：  
  
    -   “分发优先级”：使用此设置以指定部署包的分发优先级。 将部署包发送到子站点中的分发点时，将应用分发优先级。 分发包按优先级顺序发送：“高” 、“中” 或“低” 。 具有相同优先级的包按照其创建顺序发送。 如果没有囤积，则将立即处理包，而不考虑其优先级。 默认情况下使用“中”  优先级发送包。  
  
    -   “将此包的内容分发到首选分发点”：使用此设置以启用对首选分发点的按需内容分发。 如果启用此设置，则管理点会为分发管理器创建一个触发器，以在客户端请求包内容以及内容在任何首选分发点上不可用时将内容分发给所有首选分发点。 有关首选分发点和按需内容的详细信息，请参阅 [Content source location scenarios](../LocTest/Fundamental-concepts-for-content-management-in-System-Center-Configuration-Manager.md#bkmk_CSLscenarios)。  
  
    -   “预留分发点设置”：使用此设置以指定希望将内容分发到预留分发点的方式。 选择下列选项之一：  
  
        -   “在将包分配到分发点时自动下载内容”：使用此设置以忽略预留设置，并将内容分发到分发点。  
  
        -   “仅下载对分发点所做的内容更改”：使用此设置以将初始内容预留到分发点，然后将内容更改分发到分发点。  
  
        -   “手动将此包中的内容复制到分发点”：使用此设置以始终在分发点上预留内容。 此为默认设置。  
  
         有关将内容预留到分发点的详细信息，请参阅[使用预留内容](../Topic/Deploy%20and%20manage%20content%20for%20System%20Center%20Configuration%20Manager.md#bkmk_prestage)。  
  
     单击“下一步” 。  
  
8.  在“下载位置”页上，指定 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 将用于下载软件更新源文件的位置。 根据需要，请使用下列选项：  
  
    -   “从 Internet 下载软件更新”：选择此设置以从 Internet 上的位置下载软件更新。 此为默认设置。  
  
    -   “从本地网络上的位置下载软件更新”：选择此设置以从本地文件夹或共享的网络文件夹下载软件更新。 当运行向导的计算机无 Internet 访问权限时使用此设置。  
  
        > [!NOTE]  
        >  如果使用此设置，请从具有 Internet 访问权限的任何计算机中下载软件更新，然后将软件更新复制到可从运行向导的计算机中访问的本地网络上的某个位置。  
  
     单击“下一步” 。  
  
9. 在“语言选择”页上，为已选定要下载的软件更新指定语言，然后单击“下一步” 。 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 只有在选择的语言中可用时，才可以下载软件更新。 始终会下载非特定于语言的软件更新。  
  
10. 在“摘要”页上，验证在向导中选择的设置，然后单击“下一步”  以下载软件更新。  
  
11. 在“完成”页上，验证软件更新是否已成功下载，然后单击“关闭” 。  
  
12. 若要监视软件更新的内容状态，请单击 **控制台中的“监视”**[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 。  
  
13. 在“监视”工作区中，展开“分发状态” ，然后单击“内容状态” 。  
  
14. 选择以前标识的软件更新包，以下载软件更新组中的软件更新。  
  
15. 在“主页”  选项卡上的“内容”  组中，单击“查看状态” 。  
  
####  <a name="BKMK_4DeployUpdateGroup"></a> 步骤 4：部署软件更新组  
 确定想要部署的软件更新并将这些软件更新添加到软件更新组中之后，你可以手动部署软件更新组中的软件更新。 使用以下过程手动部署软件更新组中的软件更新。  
  
###### 手动部署软件更新组中的软件更新  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，展开“软件更新” ，并单击“软件更新组” 。  
  
3.  选择打算部署的软件更新组。  
  
4.  在“主页”  选项卡上的“部署”  组中，单击“部署” 。 “部署软件更新向导”  将会打开。  
  
5.  在“常规”页上，配置下列设置：  
  
    -   “名称”：指定部署的名称。 部署必须具有唯一名称，以描述部署的目的以及将其与 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 站点中的其他部署区分开来。 默认情况下，[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 会用以下格式为部署自动提供名称：**Microsoft 软件更新 - ** <*日期*><*时间*>  
  
    -   “说明”：指定部署的说明。 描述概述了部署和任何其他相关信息，以帮助在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 站点内的其他项中标识和区分该部署。 描述字段是可选字段，最多不超过 256 个字符，默认情况下具有空白值。  
  
    -   “软件更新/软件更新组”：验证所显示的软件更新组或软件更新是否正确。  
  
    -   “选择部署模板”：指定是否要应用以前保存的部署模板。 你可以将部署模板配置为包含多个公用软件更新部署属性，然后在部署后续软件更新时应用模板，以确保类似部署保持一致并节省时间。  
  
    -   “集合”：指定部署的集合（如果适用）。 集合的成员会收到部署中定义的软件更新。  
  
6.  在“部署设置”页上配置下列设置：  
  
    -   “部署类型”：指定软件更新部署的部署类型。 选择“必需”  以创建强制性软件更新部署，部署会在配置的安装截止时间之前在客户端上自动安装软件更新。 选择“可用”  以创建可供用户从软件中心中安装的可选软件更新部署。  
  
        > [!IMPORTANT]  
        >  创建软件更新部署之后，你稍后无法更改部署的类型。  
  
        > [!NOTE]  
        >  部署为“所需”  的软件更新组将在后台下载，并且享有 BITS 设置（如果配置）。  
        > 但是，部署为“可用”  的软件更新组将在前台下载，并且将忽略 BITS 设置。  
  
    -   “使用 LAN 唤醒来唤醒所需部署的客户端”：指定在截止时间是否启用 LAN 唤醒，以将唤醒数据包发送到需要部署中的一个或多个软件更新的计算机。 在安装截止时间处于睡眠模式的任何计算机将被唤醒，以便软件更新安装可以启动。 处于睡眠模式且不需要部署中的任何软件更新的客户端不会启动。 默认情况下，此设置未启用，并且只有将“部署类型”  设置为“必需” 时才可用。  
  
        > [!WARNING]  
        >  必须针对“LAN 唤醒”配置计算机和网络，然后才能使用此选项。  
  
    -   “详细信息级别”：指定客户端计算机报告的状态消息的详细信息级别。  
  
7.  在“计划”页上，配置下列设置：  
  
    -   “计划评估”：指定是按照 UTC 还是按照运行 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台的计算机的本地时间来计算可用的时间和安装截止时间。  
  
        > [!NOTE]  
        >  当你选择本地时间，并为“软件可用时间”  或“安装截止时间”  选择“尽快” ，则将使用运行 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台的计算机上的当前时间来计算更新可用的时间或在客户端上安装更新的时间。 如果客户端位于其他时区，当客户端的时间达到评估时间时将发生这些操作。  
  
    -   “软件可用时间”：选择以下设置之一以指定将向客户端提供软件更新的时间：  
  
        -   “尽快”：选择此设置以尽快向客户端提供部署中的软件更新。 创建部署时，会更新客户端策略，通知客户端在其下一个客户端策略轮询周期进行部署，然后为安装提供软件更新。  
  
        -   “特定时间”：选择此设置以在特定日期和时间向客户端提供部署中的软件更新。 创建部署时，会更新客户端策略，通知客户端在其下一个客户端策略轮询周期进行部署。 但是，直到过了指定的日期和时间，才可以安装部署中的软件更新。  
  
    -   “安装截止时间”：选择以下设置之一以指定部署中的软件更新的安装截止时间。  
  
        > [!NOTE]  
        >  只有在“部署设置”页上将“部署类型”  设置为“必需”  时才可以配置安装截止时间设置。  
  
        -   “尽快”：选择此设置以尽快自动安装部署中的软件更新。  
  
        -   “特定时间”：选择此设置以在特定日期和时间自动安装部署中的软件更新。  
  
        > [!NOTE]  
        >  实际安装截止时间是你配置的特定时间加上随机的一段时间（最多为 2 小时）。 这可以减少目标集合中同时安装部署中软件更新的所有客户端计算机的潜在影响。  
        >   
        >  你可以配置“计算机代理”  客户端设置和“禁用截止时间随机化”  ，以对所需的软件更新禁用安装随机化延迟。 有关详细信息，请参阅 [Computer Agent](../LocTest/About-client-settings-in-System-Center-Configuration-Manager.md#BKMK_ComputerAgentDeviceSettings)。  
  
8.  在“用户体验”页上，请配置下列设置：  
  
    -   “用户通知”：指定是否在配置的“软件可用时间”  在客户端计算机上软件中心中显示软件更新通知，以及是否在客户端计算机上显示用户通知。 在“部署设置”页上将“部署类型”  设置为“可用”  时，你无法选择“在软件中心和所有通知中隐藏” 。  
  
    -   “截止时间行为”：指定到达软件更新部署的截止时间时要发生的行为。 指定是否安装部署中的软件更新。 另外，指定是否在安装软件更新后执行系统重启而不考虑配置的维护时段。 有关维护时段的详细信息，请参阅[如何在 System Center Configuration Manager 中使用维护时段](../LocTest/How-to-use-maintenance-windows-in-System-Center-Configuration-Manager.md)。  
  
    -   “设备重新启动行为”：指定安装软件更新后是否在服务器和工作站上抑制系统重启，以及是否需要重启系统以完成安装。  
  
        > [!IMPORTANT]  
        >  在服务器环境中，或者在不希望默认重启安装软件更新的计算机的情况下，抑制系统重启可能很有用。 但是，执行此操作可能会使计算机处于不安全状态，而允许强制重启有助于确保立即完成软件更新安装。 。  
  
    -   **Windows Embedded 设备的写入筛选器处理**：将软件更新部署到启用了写入筛选器的 Windows Embedded 设备时，你可以指定将软件更新安装在临时覆盖区上并稍后提交更改，或者在安装截止时或在维护时段内提交更改。 如果在安装截止时或在维护时段内提交更改，则需要重新启动，而且更改将保留在设备上。  
  
        > [!NOTE]  
        >  将软件更新部署到 Windows Embedded 设备时，确保设备是配置了维护时段的集合的成员。  
  
     只有在“部署设置”页上将“部署类型”  设置为“必需”  时，才可以配置“截止时间行为”  和“设备重新启动行为”  设置。  
  
9. 在“警报”页上，配置 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 和 System Center Operations Manager 为此部署生成警报的方式。 只有在“部署设置”页上将“部署类型”  设置为“必需”  时，才可以配置警报。  
  
    > [!WARNING]  
    >  你可以从“软件库”  工作区的“软件更新”  节点中查看最新软件更新警报。  
  
10. 在“下载设置”页上配置下列设置：  
  
    -   指定当客户端连接到慢速网络或正在使用回退内容位置时是否将下载和安装软件更新。  
  
    -   指定当软件更新的内容在首选分发点上不可用时客户端是否下载和安装回退分发点中的软件更新。  
  
    -   **允许客户端与同一子网上的其他客户端共享内容**：指定是否为内容下载启用 BranchCache。 有关 BranchCache 的详细信息，请参阅  [Concepts for content management](../LocTest/Fundamental-concepts-for-content-management-in-System-Center-Configuration-Manager.md#bkmk_Concepts)。  
  
    -   指定在分发点上没有软件更新的情况下是否让连接到 Intranet 的客户端从 Microsoft 更新中下载软件更新。  
  
    -   指定是否允许客户端在安装截止日期之后下载内容（如果客户端使用按流量计费的 Internet 连接）。 Internet 提供商有时根据你在按流量计费的 Internet 连接上发送和接收的数据量计费。  
  
    > [!NOTE]  
    >  客户端请求部署中的软件更新的管理点中的内容位置。 下载行为取决于在此页面上配置分发点、部署包和设置的方式。 有关详细信息，请参阅 [Content source location scenarios](../LocTest/Fundamental-concepts-for-content-management-in-System-Center-Configuration-Manager.md#bkmk_CSLscenarios)。  
  
11. 如果已经执行 [步骤 3：下载软件更新组的内容](#BKMK_3DownloadContent)，则不会显示“部署包”、“分发点”和“语言选择”页，并且可以跳到向导的步骤 15。  
  
    > [!IMPORTANT]  
    >  不会重新下载以前已经下载到站点服务器上的内容库中的软件更新。 甚至当你为软件更新创建新的部署包时也是如此。 如果以前已经下载了所有软件更新，则向导将跳到“语言选择”  页（步骤 15）。  
  
12. 在“部署包”页上，选择现有部署包，或者配置以下设置以指定新部署包：  
  
    1.  “名称”：指定部署包的名称。 这必须是描述包内容的唯一名称。 它被限制为不超过 50 个字符。  
  
    2.  “说明”：指定提供有关该部署包的信息的说明。 该说明仅限于 127 个字符。  
  
    3.  “包源”：指定软件更新源文件的位置。  键入源位置的网络路径，例如 **\\\server\sharename\path**，或单击“浏览”来查找网络位置。 在进入到下一页之前，必须为部署包源文件创建共享文件夹。  
  
        > [!NOTE]  
        >  其他软件部署包不能使用你指定的部署包源位置。  
  
        > [!IMPORTANT]  
        >  SMS 提供程序计算机帐户和运行向导下载软件更新的用户都必须对下载位置具有“写”  NTFS 权限。 你应该仔细限制对此下载位置的访问，以减少攻击者篡改软件更新源文件的风险。  
  
        > [!IMPORTANT]  
        >  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 创建了部署包之后，可以在部署包属性中更改包源位置。 但是，如果你执行此操作，则必须首先将原始包源中的内容复制到新包源位置。  
  
    4.  “发送优先级”：指定部署包的发送优先级。 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 在将包发送到分发点时将使用部署包的发送优先级。 部署包按优先级顺序发送：高、中或低。 具有相同优先级的包按照其创建顺序发送。 如果没有囤积，则将立即处理包，而不考虑其优先级。  
  
13. 在“分发点”页上，指定将承载软件更新文件的分发点或分发点组。 有关分发点的详细信息，请参阅[分发点配置](../Topic/Install%20and%20configure%20distribution%20points%20for%20System%20Center%20Configuration%20Manager.md#bkmk_configs)。  
  
14. 在“下载位置”页上，指定是从 Internet 中还是从本地网络中下载软件更新文件。 配置下列设置：  
  
    -   “从 Internet 下载软件更新”：选择此设置以从 Internet 上的指定位置下载软件更新。 默认情况下将启用此设置。  
  
    -   “从本地网络上的位置下载软件更新”：选择此设置以从本地文件夹或共享的网络文件夹下载软件更新。 当运行向导的计算机无法访问 Internet 时，此设置很有用。 能够访问 Internet 的任何计算机可以先下载软件更新，然后将它们存储本地网络上的某个位置，以便在以后安装时访问。  
  
15. 在“语言选择”页上，为已选定要下载的软件更新选择语言。 只有在提供了与选择的语言对应的软件更新时才能下载软件更新。 并非特定于语言的软件更新是随时都能下载的。 默认情况下，向导会选择你已在软件更新点的属性中配置的语言。 在继续进入下一页之前，必须选择至少一种语言。 如果仅选择软件更新不支持的语言，则软件更新的下载将会失败。  
  
16. 在“摘要”页上查看设置。 若要将设置保存到部署模板中，请单击“另存为模板” ，输入名称并选择要包括在模板中的设置，然后单击“保存” 。 若要更改已配置的设置，请单击关联的向导页面，然后更改设置。  
  
    > [!WARNING]  
    >  模板名称可以包含字母数字 ASCII 字符，以及 **\\** （反斜杠）或 **‘** （单引号）。  
  
17. 单击“下一步”  以部署软件更新。  
  
 完成向导后， [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 会将软件更新下载到站点服务器上的内容库、将软件更新分发到已配置的分发点，然后将软件更新组部署到目标集合中的客户端。 有关部署过程的详细信息，请参阅 [Software update deployment process](../LocTest/Introduction-to-software-updates-in-System-Center-Configuration-Manager.md#BKMK_DeploymentProcess)。  
  
###  <a name="BKMK_AutoDeploy"></a> 自动部署软件更新  
 通过将新软件更新添加到具有活动部署的更新组中或者使用 ADR，你可以自动部署软件更新。  
  
####  <a name="BKMK_AddUpdatesToExistingGroup"></a> 将软件更新添加到已部署的更新组中  
 创建和部署软件更新组之后，你可以将软件更新添加到更新组中，系统也将自动部署它们。  
  
> [!IMPORTANT]  
>  如果将软件更新添加到已经部署的现有软件更新组，则在将其他软件更新添加到部署之前，可能需要等待几分钟时间。  
  
 使用以下过程将软件更新添加到现有更新组中。  
  
###### 将软件更新添加到现有软件更新组中  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，单击“软件更新” 。  
  
3.  选择要添加到新软件更新组中的软件更新。  
  
4.  在“主页”  选项卡上的“更新”  组中，单击“编辑成员身份” 。  
  
5.  选择要将软件更新作为成员添加到其中的软件更新组。  
  
6.  单击“软件更新组”  节点以显示软件更新组。  
  
7.  单击软件更新组，在“主页”  选项卡内的“更新”  组中，单击“显示成员”  以显示组中的软件更新的列表。  
  
####  <a name="BKMK_CreateAutomaticDeploymentRule"></a> 创建自动部署规则 (ADR)  
 你可以使用 ADR 自动审批和部署软件更新。 这是部署每月软件更新（“周二补丁日”）的常见方法，并且用于管理定义更新。 运行 ADR 时，将软件更新从软件更新组删除（如果使用现有组），将满足指定条件的软件更新添加到软件更新组，将软件更新的内容文件下载并复制到分发点，并且将软件更新部署到目标集合中的客户端设备中。 创建 ADR 后，可以将其他部署添加到规则。  
  
 可在每次运行规则时，让规则将软件更新添加到新的软件更新组，或者将软件更新添加到现有组。 当规则运行且将软件更新添加到现有组时，该规则删除组中的所有软件更新，然后添加满足对组定义的条件的软件更新。 例如，若要运行 ADR 以查找每天新发布的软件更新并将其部署到客户端，你必须选择用于创建新软件更新组（而不是将软件更新添加到现有组）的选项。  
  
> [!WARNING]  
>  在首次创建 ADR 之前，请验证站点中是否完成了软件更新同步。 当你运行非英语版的 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 时，这非常重要，因为软件更新分类在首次同步之前以英文显示，在软件更新同步完成之后，则以本地化语言显示。 同步软件更新之前创建的规则在同步之后可能不会正常工作，因为文本字符串可能不匹配。  
  
 使用下列过程来创建 ADR。  
  
###### 若要创建 ADR  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，展开“软件更新” ，并单击“自动部署规则” 。  
  
3.  在“主页”  选项卡上的“创建”  组中，单击“创建自动部署规则” 。 “创建自动部署规则向导”将会打开。  
  
4.  在“常规”  页上，配置下列设置：  
  
    -   **名称**：指定 ADR 的名称。 此名称必须唯一并且有助于描述规则的目的，并且应与 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 站点中的其他名称区分开来。  
  
    -   **说明**：指定 ADR 的说明。 描述概述了部署规则和任何其他相关信息，以帮助在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 站点内的其他项中标识和区分该规则。 描述字段是可选字段，最多不超过 256 个字符，默认情况下具有空白值。  
  
    -   **选择部署模板**：指定是否要应用以前保存的部署模板。 你可以将部署模板配置为包含多个常见软件更新部署属性，以后可以在创建 ADR 时使用这些属性。 这些模板有助于确保类似部署的一致性以及节省时间。  
  
         “创建自动部署规则向导”提供了内置软件更新部署模板供你选择。 “定义更新”  模板提供在部署定义软件更新时常用的设置。 “周二补丁日”  模板提供在逐月部署软件更新时常用的设置。  
  
    -   “集合”：指定要用于部署的目标集合。 集合的成员会收到部署中定义的软件更新。  
  
    -   确定是将软件更新添加到新的还是现有的软件更新组中。 大多数情况下，你可能会选择在运行 ADR 时创建新软件更新组。 但是，如果按照更加主动的计划来运行规则，则可以选择使用现有组。 例如，将对定义更新每日运行规则，则可以将软件更新添加到现有软件更新组中。  
  
    -   **运行此规则后启用部署**：指定运行 ADR 后是否启用软件更新部署。 关于该规格，请考虑下列情况：  
  
        -   如果启用部署，则满足规则中定义的条件的软件更新将添加到软件更新组中、根据需要下载软件更新内容、将内容复制到指定的分发点，并将软件更新部署到目标集合中的客户端。  
  
        -   如果未启用部署，则满足规则中定义的条件的软件更新将添加到软件更新组中，并且会配置软件更新部署策略，但不将软件更新下载或部署到客户端。 这种情况会根据需要为你提供时间，以便你准备部署软件更新、验证满足条件的软件更新是否合适，以及以后启用部署。  
  
5.  在“部署设置”页上配置下列设置：  
  
    -   “使用 LAN 唤醒来唤醒所需部署的客户端”：指定在截止时间是否启用 LAN 唤醒，以将唤醒数据包发送到需要部署中的一个或多个软件更新的计算机。 在安装截止时间处于睡眠模式的任何计算机将被唤醒，以便软件更新安装可以启动。 处于睡眠模式且不需要部署中的任何软件更新的客户端不会启动。 默认情况下不启用此设置。  
  
        > [!WARNING]  
        >  必须针对“LAN 唤醒”配置计算机和网络，然后才能使用此选项。  
  
    -   “详细信息级别”：指定客户端计算机报告的状态消息的详细信息级别。  
  
        > [!IMPORTANT]  
        >  部署定义更新时，请将详细信息级别设置为“仅限错误”  ，以让客户端只在定义更新无法传送到客户端时报告状态消息。 否则，客户端将报告大量的状态消息，这可能会影响站点服务器的性能。  
  
    -   “许可条款设置”：指定是否自动部署具有相关许可条款的软件更新。 某些软件更新包含许可条款，例如 Service Pack。 自动部署软件更新时，未显示许可条款，并且没有接受许可条款的选项。 你可以选择自动部署所有软件更新而不考虑关联的许可条款，或者仅部署无关联许可条款的软件更新。  
  
        > [!WARNING]  
        >  要查看软件更新的许可条款，你可以在“软件库”  工作区的“所有软件更新”  节点中选择软件更新，然后在“主页”  选项卡上的“更新”  组中单击“查看许可证” 。  
        >   
        >  要查找带相关许可条款的软件更新，你可以将“许可条款”  列添加到“所有软件更新”  节点内的结果窗格中，然后单击列标题以按带许可条款的软件更新进行排序。  
  
6.  在“软件更新”页上，配置 ADR 检索并添加到软件更新组中的软件更新的条件。  
  
    > [!IMPORTANT]  
    >  ADR 中软件更新的限制为 1000 个软件更新。 要确保在此页上指定的条件所检索到的软件更新不到 1000 项，请考虑对“软件库”  工作区中的“所有软件更新”  节点设置相同的条件。  
  
7.  在“评估计划”页上，指定是否启用 ADR 以按计划运行。 启用后，请单击“自定义”  以设置定期计划。  
  
    > [!IMPORTANT]  
    >  系统会显示软件更新点同步计划，以帮助你确定评估计划的频率。 你决不能设置频率超过软件更新同步计划的评估计划。 计划的开始时间配置基于运行 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台的计算机的本地时间。  
  
    > [!NOTE]  
    >  要手动运行 ADR，请选择规则，然后在“主页”  选项卡上的“自动部署规则”  组中，单击“立即运行”  。 在手动运行 ADR 之前，请验证自上次运行此规则以来是否运行了软件更新同步。  
  
    > [!IMPORTANT]  
    >  ADR 评估的运行频率可以为一天三次。  
  
8.  在“部署计划”页上配置下列设置：  
  
    -   “计划评估”：指定 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 是使用 UTC 还是使用运行 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台的计算机的本地时间来计算可用的时间和安装截止时间。  
  
        > [!NOTE]  
        >  当你选择本地时间，并为“软件可用时间”  或“安装截止时间”  选择“尽快” ，则将使用运行 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台的计算机上的当前时间来计算更新可用的时间或在客户端上安装更新的时间。 如果客户端位于其他时区，当客户端的时间达到评估时间时将发生这些操作。  
  
    -   “软件可用时间”：选择以下设置之一以指定向客户端提供软件更新的时间：  
  
        -   “尽快”：选择此设置以尽快向客户端计算机提供部署中所包括的软件更新。 创建部署并选择此设置后， [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 将更新客户端策略。 然后在下一个客户端策略轮询周期，客户端将注意部署并且可以获得可安装的更新。  
  
        -   “特定时间”：选择此设置以在特定日期和时间向客户端计算机提供部署中所包括的软件更新。 创建部署并启用此设置后， [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 将更新客户端策略。 然后在下一个客户端策略轮询周期，客户端将注意部署。 但是，直到过了配置的日期和时间，才可以安装部署中的软件更新。  
  
    -   “安装截止时间”：选择以下设置之一以指定部署中的软件更新的安装截止时间：  
  
        -   “尽快”：选择此设置以尽快自动安装部署中的软件更新。  
  
        -   “特定时间”：选择此设置以在特定日期和时间自动安装部署中的软件更新。 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 通过将已配置的“特定时间”间隔添加到“软件可用时间”，可确定安装软件更新的截止时间。  
  
        > [!NOTE]  
        >  实际安装截止时间是显示的截止时间加上随机的一段时间（最多为 2 小时）。 这可以减少目标集合中同时安装部署中软件更新的所有客户端计算机的潜在影响。  
        >   
        >  你可以配置“计算机代理”  客户端设置和“禁用截止时间随机化”  ，以对所需的软件更新禁用安装随机化延迟。 有关详细信息，请参阅 [Computer Agent](../LocTest/About-client-settings-in-System-Center-Configuration-Manager.md#BKMK_ComputerAgentDeviceSettings)。  
  
9. 在“用户体验”页上，请配置下列设置：  
  
    -   “用户通知”：指定是否在配置的“软件可用时间”  在客户端计算机上软件中心中显示软件更新通知，以及是否在客户端计算机上显示用户通知。  
  
    -   “截止时间行为”：指定到达软件更新部署的截止时间时要发生的行为。 指定是否安装部署中的软件更新。 另外，指定是否在安装软件更新后执行系统重启而不考虑配置的维护时段。 有关维护时段的详细信息，请参阅[如何在 System Center Configuration Manager 中使用维护时段](../LocTest/How-to-use-maintenance-windows-in-System-Center-Configuration-Manager.md)。  
  
    -   “设备重新启动行为”：指定安装软件更新后是否在服务器和工作站上抑制系统重启，以及是否需要重启系统以完成安装。  
  
        > [!IMPORTANT]  
        >  在服务器环境中，或者在不希望默认重启安装软件更新的计算机的情况下，抑制系统重启可能很有用。 但是，执行此操作可能会使计算机处于不安全状态，而允许强制重启有助于确保立即完成软件更新安装。  
  
    -   **Windows Embedded 设备的写入筛选器处理**：将软件更新部署到启用了写入筛选器的 Windows Embedded 设备时，你可以指定将软件更新安装在临时覆盖区上并稍后提交更改，或者在安装截止时或在维护时段内提交更改。 如果在安装截止时或在维护时段内提交更改，则需要重新启动，而且更改将保留在设备上。  
  
        > [!NOTE]  
        >  将软件更新部署到 Windows Embedded 设备时，确保设备是配置了维护时段的集合的成员。  
  
10. 在“警报”页上，配置 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 和 System Center Operations Manager 为此部署生成警报的方式。  
  
    > [!WARNING]  
    >  你可以从“软件库”  工作区的“软件更新”  节点中查看最新软件更新警报。  
  
11. 在“下载设置”页上配置下列设置：  
  
    -   指定当客户端连接到慢速网络或正在使用回退内容位置时是否将下载和安装软件更新。  
  
    -   指定当软件更新的内容在首选分发点上不可用时客户端是否下载和安装回退分发点中的软件更新。  
  
    -   **允许客户端与同一子网上的其他客户端共享内容**：指定是否为内容下载启用 BranchCache。 有关 BranchCache 的详细信息，请参阅 [Concepts for content management](../LocTest/Fundamental-concepts-for-content-management-in-System-Center-Configuration-Manager.md#bkmk_Concepts)。  
  
    -   指定在分发点上没有软件更新的情况下是否让连接到 Intranet 的客户端从 Microsoft 更新中下载软件更新。  
  
    -   指定是否允许客户端在安装截止日期之后下载内容（如果客户端使用按流量计费的 Internet 连接）。 Internet 提供商有时根据你在按流量计费的 Internet 连接上发送和接收的数据量计费。  
  
    > [!NOTE]  
    >  客户端请求部署中的软件更新的管理点中的内容位置。 下载行为取决于在此页面上配置分发点、部署包和设置的方式。 有关详细信息，请参阅 [Content source location scenarios](../LocTest/Fundamental-concepts-for-content-management-in-System-Center-Configuration-Manager.md#bkmk_CSLscenarios)。  
  
12. 在“部署包”页上，选择现有部署包，或者配置以下设置以创建新部署包：  
  
    1.  “名称”：指定部署包的名称。 这必须是描述包内容的唯一名称。 它被限制为不超过 50 个字符。  
  
    2.  “说明”：指定提供有关该部署包的信息的说明。 该说明仅限于 127 个字符。  
  
    3.  “包源”：指定软件更新源文件的位置。  键入源位置的网络路径，例如 **\\\server\sharename\path**，或单击“浏览”来查找网络位置。 在进入到下一页之前，必须为部署包源文件创建共享文件夹。  
  
        > [!NOTE]  
        >  其他软件部署包不能使用你指定的部署包源位置。  
  
        > [!IMPORTANT]  
        >  SMS 提供程序计算机帐户和运行向导下载软件更新的用户都必须对下载位置具有“写”  NTFS 权限。 你应该仔细限制对此下载位置的访问，以减少攻击者篡改软件更新源文件的风险。  
  
        > [!IMPORTANT]  
        >  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 创建了部署包之后，可以在部署包属性中更改包源位置。 但是，如果你执行此操作，则必须首先将原始包源中的内容复制到新包源位置。  
  
    4.  “发送优先级”：指定部署包的发送优先级。 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 在将包发送到分发点时将使用部署包的发送优先级。 部署包按优先级顺序发送：高、中或低。 具有相同优先级的包按照其创建顺序发送。 如果没有囤积，则将立即处理包，而不考虑其优先级。  
  
13. 在“分发点”页上，指定将承载软件更新文件的分发点或分发点组。 有关分发点的详细信息，请参阅[分发点配置](../Topic/Install%20and%20configure%20distribution%20points%20for%20System%20Center%20Configuration%20Manager.md#bkmk_configs)。  
  
    > [!NOTE]  
    >  只有当你在创建新的软件更新部署包时才能使用本页。  
  
14. 在“下载位置”页上，指定是从 Internet 中还是从本地网络中下载软件更新文件。 配置下列设置：  
  
    -   “从 Internet 下载软件更新”：选择此设置以从 Internet 上的指定位置下载软件更新。 默认情况下将启用此设置。  
  
    -   “从本地网络上的位置下载软件更新”：选择此设置以从本地目录或共享的文件夹下载软件更新。 当运行向导的计算机无法访问 Internet 时，此设置很有用。 能够访问 Internet 的任何计算机可以先下载软件更新，然后将它们存储在可从运行向导的计算机中访问的本地网络上的某个位置。  
  
15. 在“语言选择”页上，为已选定要下载的软件更新选择语言。 只有在提供了与选择的语言对应的软件更新时才能下载软件更新。 并非特定于语言的软件更新是随时都能下载的。 默认情况下，向导会选择你已在软件更新点的属性中配置的语言。 在继续进入下一页之前，必须选择至少一种语言。 如果仅选择软件更新不支持的语言，则软件更新的下载将会失败。  
  
16. 在“摘要”页上查看设置。 若要将设置保存到部署模板中，请单击“另存为模板” ，输入名称并选择要包括在模板中的设置，然后单击“保存” 。 若要更改已配置的设置，请单击关联的向导页面，然后更改设置。  
  
    > [!WARNING]  
    >  模板名称可以包含字母数字 ASCII 字符，以及 **\\** （反斜杠）或 **‘** （单引号）。  
  
17. 单击“下一步”  以创建 ADR。  
  
 完成向导后，将会运行 ADR。 它会将符合指定条件的软件更新添加到软件更新组中、将软件更新下载到站点服务器上的内容库、将软件更新分发到已配置的分发点，然后将软件更新组部署到目标集合中的客户端。  
  
#####  <a name="BKMK_AddDeploymentToADR"></a> 将新的部署添加到现有 ADR  
 创建 ADR 后，可以将其他部署添加到规则。 这可以帮助你管理将不同更新部署到不同集合的复杂性。 每个新部署均具有完整的功能和部署监视体验。  
  
###### 若要将新的部署添加到现有 ADR  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库” 。  
  
2.  在“软件库”工作区中，展开“软件更新” ，单击“自动部署规则” ，然后选择所需规则。  
  
3.  在“主页”  选项卡上的“自动部署规则”  组中，单击“添加部署” 。 “添加部署向导”将会打开。  
  
4.  在“集合”  页上，配置下列设置：  
  
    -   **集合**：指定要用于部署的目标集合。 集合的成员会收到部署中定义的软件更新。  
  
    -   **运行此规则后启用部署**：指定运行 ADR 后是否启用软件更新部署。 关于该规格，请考虑下列情况：  
  
        -   如果启用部署，则满足规则中定义的条件的软件更新将添加到软件更新组中、根据需要下载软件更新内容、将内容复制到指定的分发点，并将软件更新部署到目标集合中的客户端。  
  
        -   如果未启用部署，则满足规则中定义的条件的软件更新将添加到软件更新组中，并且会配置软件更新部署策略，但不将软件更新下载或部署到客户端。 这种情况会根据需要为你提供时间，以便你准备部署软件更新、验证满足条件的软件更新是否合适，以及以后启用部署。  
  
5.  在“部署设置”页上配置下列设置：  
  
    -   “使用 LAN 唤醒来唤醒所需部署的客户端”：指定在截止时间是否启用 LAN 唤醒，以将唤醒数据包发送到需要部署中的一个或多个软件更新的计算机。 在安装截止时间处于睡眠模式的任何计算机将被唤醒，以便软件更新安装可以启动。 处于睡眠模式且不需要部署中的任何软件更新的客户端不会启动。 默认情况下不启用此设置。  
  
        > [!WARNING]  
        >  必须针对“LAN 唤醒”配置计算机和网络，然后才能使用此选项。  
  
    -   “详细信息级别”：指定客户端计算机报告的状态消息的详细信息级别。  
  
        > [!IMPORTANT]  
        >  部署定义更新时，请将详细信息级别设置为“仅限错误”  ，以让客户端只在定义更新无法传送到客户端时报告状态消息。 否则，客户端将报告大量的状态消息，这可能会影响站点服务器的性能。  
  
6.  在“部署计划”页上配置下列设置：  
  
    -   “计划评估”：指定 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 是使用 UTC 还是使用运行 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台的计算机的本地时间来计算可用的时间和安装截止时间。  
  
        > [!NOTE]  
        >  当你选择本地时间，并为“软件可用时间”  或“安装截止时间”  选择“尽快” ，则将使用运行 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台的计算机上的当前时间来计算更新可用的时间或在客户端上安装更新的时间。 如果客户端位于其他时区，当客户端的时间达到评估时间时将发生这些操作。  
  
    -   “软件可用时间”：选择以下设置之一以指定向客户端提供软件更新的时间：  
  
        -   “尽快”：选择此设置以尽快向客户端计算机提供部署中所包括的软件更新。 创建部署并选择此设置后， [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 将更新客户端策略。 然后在下一个客户端策略轮询周期，客户端将注意部署并且可以获得可安装的更新。  
  
        -   “特定时间”：选择此设置以在特定日期和时间向客户端计算机提供部署中所包括的软件更新。 创建部署并启用此设置后， [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 将更新客户端策略。 然后在下一个客户端策略轮询周期，客户端将注意部署。 但是，直到过了配置的日期和时间，才可以安装部署中的软件更新。  
  
    -   “安装截止时间”：选择以下设置之一以指定部署中的软件更新的安装截止时间：  
  
        -   “尽快”：选择此设置以尽快自动安装部署中的软件更新。  
  
        -   “特定时间”：选择此设置以在特定日期和时间自动安装部署中的软件更新。 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 通过将已配置的“特定时间”间隔添加到“软件可用时间”，可确定安装软件更新的截止时间。  
  
        > [!NOTE]  
        >  实际安装截止时间是显示的截止时间加上随机的一段时间（最多为 2 小时）。 这可以减少目标集合中同时安装部署中软件更新的所有客户端计算机的潜在影响。  
        >   
        >  你可以配置“计算机代理”  客户端设置和“禁用截止时间随机化”  ，以对所需的软件更新禁用安装随机化延迟。 有关详细信息，请参阅 [Computer Agent](../LocTest/About-client-settings-in-System-Center-Configuration-Manager.md#BKMK_ComputerAgentDeviceSettings)。  
  
7.  在“用户体验”页上，请配置下列设置：  
  
    -   “用户通知”：指定是否在配置的“软件可用时间”  在客户端计算机上软件中心中显示软件更新通知，以及是否在客户端计算机上显示用户通知。  
  
    -   “截止时间行为”：指定到达软件更新部署的截止时间时要发生的行为。 指定是否安装部署中的软件更新。 另外，指定是否在安装软件更新后执行系统重启而不考虑配置的维护时段。 有关维护时段的详细信息，请参阅[如何在 System Center Configuration Manager 中使用维护时段](../LocTest/How-to-use-maintenance-windows-in-System-Center-Configuration-Manager.md)。  
  
    -   “设备重新启动行为”：指定安装软件更新后是否在服务器和工作站上抑制系统重启，以及是否需要重启系统以完成安装。  
  
        > [!IMPORTANT]  
        >  在服务器环境中，或者在不希望默认重启安装软件更新的计算机的情况下，抑制系统重启可能很有用。 但是，执行此操作可能会使计算机处于不安全状态，而允许强制重启有助于确保立即完成软件更新安装。  
  
    -   **Windows Embedded 设备的写入筛选器处理**：将软件更新部署到启用了写入筛选器的 Windows Embedded 设备时，你可以指定将软件更新安装在临时覆盖区上并稍后提交更改，或者在安装截止时或在维护时段内提交更改。 如果在安装截止时或在维护时段内提交更改，则需要重新启动，而且更改将保留在设备上。  
  
        > [!NOTE]  
        >  将软件更新部署到 Windows Embedded 设备时，确保设备是配置了维护时段的集合的成员。  
  
8.  在“警报”页上，配置 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 和 System Center Operations Manager 为此部署生成警报的方式。  
  
    > [!WARNING]  
    >  你可以从“软件库”  工作区的“软件更新”  节点中查看最新软件更新警报。  
  
9. 在“下载设置”页上配置下列设置：  
  
    -   指定当客户端连接到慢速网络或正在使用回退内容位置时是否将下载和安装软件更新。  
  
    -   指定当软件更新的内容在首选分发点上不可用时客户端是否下载和安装回退分发点中的软件更新。  
  
    -   **允许客户端与同一子网上的其他客户端共享内容**：指定是否为内容下载启用 BranchCache。 有关 BranchCache 的详细信息，请参阅 [Concepts for content management](../LocTest/Fundamental-concepts-for-content-management-in-System-Center-Configuration-Manager.md#bkmk_Concepts)。  
  
    -   指定在分发点上没有软件更新的情况下是否让连接到 Intranet 的客户端从 Microsoft 更新中下载软件更新。  
  
    -   指定是否允许客户端在安装截止日期之后下载内容（如果客户端使用按流量计费的 Internet 连接）。 Internet 提供商有时根据你在按流量计费的 Internet 连接上发送和接收的数据量计费。  
  
    > [!NOTE]  
    >  客户端请求部署中的软件更新的管理点中的内容位置。 下载行为取决于在此页面上配置分发点、部署包和设置的方式。 有关详细信息，请参阅 [Content source location scenarios](../LocTest/Fundamental-concepts-for-content-management-in-System-Center-Configuration-Manager.md#bkmk_CSLscenarios)。  
  
 有关部署过程的详细信息，请参阅 [Software update deployment process](../LocTest/Introduction-to-software-updates-in-System-Center-Configuration-Manager.md#BKMK_DeploymentProcess)。  
  
##  <a name="BKMK_WSUSCleanUp"></a> 计划和运行 WSUS 清理任务  
 可以从 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台计划和运行 WSUS 清理任务。  
你可以从“软件更新点组件”属性中手动运行 WSUS 清理任务。 当你选择运行 WSUS 清理任务时，它将在下一次软件更新同步时运行。 过期的软件更新将设置为在 WSUS 服务器上被拒绝的状态，计算机上的 Windows 更新代理将不再扫描这些软件更新。 默认情况下，WSUS 清理任务作业每 30 天运行一次。  
  
#### 计划和运行 WSUS 清理作业  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，依次导航到“管理” > “概述” > “站点配置” > “站点”。  
  
2.  单击“设置”  组中的  “配置站点组件”，然后单击“软件更新点”  以打开软件更新点组件属性。  
  
3.  单击“取代规则”  选项卡，选择“运行 WSUS 清理向导” ，然后单击“确定” 。  
  
## 另请参阅  
 [在 System Center Configuration Manager 中部署并管理软件更新](../LocTest/Deploy-and-manage-software-updates-in-System-Center-Configuration-Manager.md)