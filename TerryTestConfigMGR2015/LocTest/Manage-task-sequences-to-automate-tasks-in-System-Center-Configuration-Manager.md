---
title: "管理任务序列以在 System Center Configuration Manager 中自动执行任务"
ms.custom: na
ms.date: 09/02/2016
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: 
  - configmgr-osd
ms.tgt_pltfrm: na
ms.topic: article
applies_to: 
  - System Center Configuration Manager (current branch)
ms.assetid: a1f099f1-e9b5-4189-88b3-f53e3b4e4add
caps.latest.revision: 10
caps.handback.revision: 9
translationtype: Human Translation
---
# 管理任务序列以在 System Center Configuration Manager 中自动执行任务
使用任务序列在 [!INCLUDE[cm6long](../LocTest/includes/cm6long_md.md)] 环境中自动执行步骤。 这些步骤可将操作系统映像部署到目标计算机，通过一组操作系统安装文件构建和捕获操作系统映像，并捕获和还原用户状态信息。 任务序列位于 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台的“软件库”\>“操作系统”\>“任务序列”中。 将“任务序列”节点（包括所创建的子文件夹）复制到整个 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 层次结构。 有关规划信息，请参阅 [System Center Configuration Manager 中自动执行任务的规划注意事项](../LocTest/Planning-considerations-for-automating-tasks-in-System-Center-Configuration-Manager.md)。  
  
 使用下列部分来管理任务序列：  
  
-   [创建任务序列](#BKMK_CreateTaskSequence)  
  
-   [编辑任务序列](#BKMK_ModifyTaskSequence)  
  
-   [分发任务序列引用的内容](#BKMK_DistributeTS)  
  
-   [部署任务序列](#BKMK_DeployTS)  
  
-   [导出和导入任务序列](#BKMK_ExportImport)  
  
-   [为计算机和集合创建任务序列变量](#BKMK_CreateTSVariables)  
  
-   [用于管理任务序列的其他操作](#BKMK_AdditionalActionsTS)  
  
##  <a name="BKMK_CreateTaskSequence"></a> 创建任务序列  
 通过使用创建任务序列向导来创建任务序列。 此向导可创建下列类型的任务序列：  
  
|任务序列类型|更多信息|  
|------------|----------|  
|[用于安装操作系统的任务序列](http://technet.microsoft.com/library/mt627927\(TechNet.10\).aspx)|此任务序列类型创建用于安装操作系统的步骤以及用于迁移用户数据、包括软件更新和安装应用程序的选项。|  
|[用于升级操作系统的任务序列](https://technet.microsoft.com/library/mt627927\(TechNet.10\).aspx)|此任务序列类型创建用于升级操作系统的步骤以及用于包括软件更新和安装应用程序的选项。|  
|[用于捕获操作系统的任务序列](https://technet.microsoft.com/library/mt627941\(TechNet.10\).aspx)|此任务序列类型创建从引用计算机构建和捕获操作系统的步骤 在映像被捕获之前，可以在引用计算机上包括软件更新和安装应用程序。|  
|[用于捕获和还原用户状态的任务序列](http://technet.microsoft.com/library/mt627918\(TechNet.10\).aspx)|此任务序列提供要添加到现有任务序列以捕获和还原用户状态数据的步骤。|  
|[用于管理虚拟硬盘的任务序列](http://technet.microsoft.com/library/mt629297\(TechNet.10\).aspx)|此任务序列类型包含创建 VHD 的步骤，其中包括安装可从 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台发布到 System Center Virtual Machine Manager \(VMM\) 的操作系统和应用程序。|  
|[自定义任务序列](https://technet.microsoft.com/library/mt627950\(TechNet.10\).aspx)|此任务序列类型不会添加任何步骤到任务序列。 创建任务序列后必须对任务序列进行编辑并向其添加步骤。|  
  
##  <a name="BKMK_ModifyTaskSequence"></a> 编辑任务序列  
 你可以通过添加或删除任务序列步骤、添加或删除任务序列组或者更改步骤的顺序来修改任务序列。 使用以下过程来修改现有任务序列。  
  
> [!IMPORTANT]  
>  在编辑通过使用创建任务序列向导创建的任务序列时，步骤的名称可能是步骤的操作或步骤的类型。 例如，你可能会看到名为“分区磁盘 0”的步骤，该名称是类型为[格式化磁盘并分区](../LocTest/Task-sequence-steps-in-System-Center-Configuration-Manager.md#BKMK_FormatandPartitionDisk)的步骤的操作。 所有任务序列步骤均按其类型记录，并不一定按编辑器中显示的步骤的名称记录。  
  
#### 编辑任务序列  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库”。  
  
2.  在“软件库”工作区中，展开“操作系统”，然后单击“任务序列”。  
  
3.  在“任务序列”列表中，选择要编辑的任务序列。  
  
4.  在“主页”选项卡上的“任务序列”组中，单击“编辑”，然后执行任何以下操作：  
  
    -   若要添加任务序列步骤，请单击“添加，选择步骤类型，然后单击你想要添加的任务序列步骤。 例如，若要添加“运行命令行”步骤，可单击“添加”，选择“常规”，然后单击“运行命令行”。  
  
         有关所有任务序列步骤及其类型的列表，请参阅此过程后面的表。  
  
    -   要向任务序列中添加组，请单击“添加”，然后单击“新建组”。 添加组之后，你可以随后向组中添加步骤。  
  
    -   要更改任务序列中步骤和组的顺序，请选择要重新排序的步骤或组，然后使用“上移项目”或“下移项目”图标。 一次只能移动一个步骤或组。  
  
    -   要删除步骤或组，请选择该步骤或组并单击“删除”。  
  
5.  单击“确定”以保存更改。  
  
 有关可用的任务序列步骤列表，请参阅 [ System Center Configuration 中的任务序列步骤](../LocTest/Task-sequence-steps-in-System-Center-Configuration-Manager.md)。  
  
##  <a name="BKMK_DistributeTS"></a> 分发任务序列引用的内容  
 在客户端运行引用内容的任务序列之前，必须将该内容分发到分发点。 你可以随时选择任务序列并分发其内容，以便为分发建立一个新的引用包列表。 如果使用更新的内容更改任务序列，在内容可供客户端使用之前必须重新分发此内容。 使用以下过程来分发任务序列引用的内容。  
  
#### 将引用的内容分发到分发点  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库”。  
  
2.  在“软件库”工作区中，展开“操作系统”，然后单击“任务序列”。  
  
3.  在“任务序列”列表中，选择要分发的任务序列。  
  
4.  在“主页”选项卡上的“部署”组中，单击“分发内容”以启动分发内容向导。  
  
5.  在“常规”页上，验证是否为分发选择了正确的任务序列，然后单击“下一步”。  
  
6.  在“内容”页上，验证要分发的内容（例如任务序列引用的启动映像），然后单击“下一步”。  
  
7.  在“内容目标”页上，指定要在其中分发任务序列内容的集合、分发点或分发点组，然后单击“下一步”。  
  
    > [!IMPORTANT]  
    >  如果所选任务序列引用已分发到特定分发点的内容，则向导不会列出该分发点。  
  
8.  完成向导。  
  
 可以预留任务序列中引用的内容。[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 创建压缩的预留内容文件，该文件包含所选内容的文件、关联依赖项和关联元数据。 然后，你可以在站点服务器、辅助站点或分发点中手动导入内容。 有关如何预留内容文件的详细信息，请参阅 [Prestage content](../LocTest/Manage-content-and-content-infrastructure-for-System-Center-Configuration-Manager.md#BKMK_PrestageContent)。  
  
##  <a name="BKMK_DeployTS"></a> 部署任务序列  
 使用以下过程将任务序列部署到集合中的计算机。  
  
> [!WARNING]  
>  你可以管理高风险任务序列部署的行为。 高风险部署是自动安装、可能产生意外结果的部署。 例如，其用途为“必需”部署操作系统的任务序列被认为是高风险部署。 有关详细信息，请参阅 [用于管理 System Center Configuration Manager 的高风险部署的设置](../LocTest/Settings-to-manage-high-risk-deployments-for-System-Center-Configuration-Manager.md)。  
  
> [!NOTE]  
>  任务序列部署的状态消息显示在主站点上的“消息”窗口中，但不会显示在管理中心站点上。  
  
#### 部署任务序列  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库”。  
  
2.  在“软件库”工作区中，展开“操作系统”，然后单击“任务序列”。  
  
3.  在“任务序列”列表中，选择要部署的任务序列。  
  
4.  在“主页”选项卡上的“部署”组中，单击“部署”。  
  
    > [!NOTE]  
    >  如果“部署”不可用，则任务序列有无效的引用。  纠正该引用，然后再次尝试部署任务序列。  
  
5.  在“常规”页上，指定以下信息，然后单击“下一步”。  
  
    -   “任务序列”：指定想要部署的任务序列。 默认情况下，此框显示所选的任务序列。  
  
    -   “集合”：指定包含将运行任务序列的计算机的集合。  
  
         不要部署将操作系统安装到不适合的集合（例如“所有系统”集合）的任务序列。 请确保所选集合仅包含要运行任务序列的那些计算机。  
  
        > [!NOTE]  
        >  部署高风险部署（例如操作系统）时，“选择集合”窗口将仅显示满足在站点属性中配置的部署验证设置的自定义集合。 高风险部署始终局限于自定义集合、你所创建的集合和内置“未知计算机”集合。 创建高风险部署时，无法选择“所有系统”等内置集合。 取消选中“隐藏成员数大于站点最低大小配置的集合”以查看所含客户端少于配置的最大大小的全部自定义集合。 有关详细信息，请参阅 [用于管理 System Center Configuration Manager 的高风险部署的设置](../LocTest/Settings-to-manage-high-risk-deployments-for-System-Center-Configuration-Manager.md)。  
        >   
        >  部署验证设置基于集合的当前成员身份。 部署任务序列后，不重新评估高风险部署设置的集合成员身份。  
        >   
        >  例如，假设将“默认大小”设置为 100，将“最大大小”设置为 1000。 当创建高风险部署时，“选择集合”窗口将仅显示其客户端少于 100 个的集合。 如果清除“隐藏成员数大于站点最低大小配置的集合”设置，则该窗口将显示其客户端少于 1000 个的集合。  
        >   
        >  选择包含站点角色的集合时，以下情况适用：  
        >   
        >  -   如果集合包含站点系统服务器，而你在部署验证设置中配置为阻止具有站点系统服务器的集合，则将出现错误且无法继续操作。  
        > -   如果集合包含站点系统服务器，而你在部署验证设置中配置为在集合具有站点系统服务器、超过默认大小值或包含服务器时发出警告，则部署软件向导将显示高风险警告。 你必须同意创建高风险部署，这时将创建审核状态消息。  
  
    -   “备注（可选）”：指定描述此任务序列部署的其他信息。  
  
6.  在“部署设置”页上，指定以下信息，然后单击“下一步”。  
  
    -   “目的”：从下拉列表中，选择以下选项之一：  
  
        -   “可用”：如果将任务序列部署到用户，则用户将在应用程序目录中看到发布的任务序列，并可根据需要请求该任务序列。 如果将任务序列部署到设备，则用户将在软件中心看到该任务序列，并可根据需要进行安装。  
  
        -   “必需”：依据配置的计划自动部署任务序列。 不过，用户可以跟踪任务序列部署状态（如果未隐藏），并且可使用软件中心在截止时间之前安装该任务序列。  
  
    -   “无论用户是否登录都根据计划自动部署”：在部署任务序列时，此选项不可用。  
  
    -   “发送唤醒数据包”：如果部署目的设置为“必需”，并且选择了此选项，则会在安装部署之前向计算机发送一个唤醒数据包，以在安装截止时将计算机从休眠中唤醒。 必须针对“LAN 唤醒”配置计算机和网络，然后才能使用此选项。  
  
    -   “允许客户端使用按流量计费的 Internet 连接在安装截止时间之后下载内容，这可能会导致附加成本”：如果你的任务序列安装应用程序但不部署操作系统，则可以指定是否允许客户端在安装截止日期之后下载内容（如果客户端使用按流量计费的 Internet 连接）。 Internet 提供商有时根据你在按流量计费的 Internet 连接上发送和接收的数据量计费。  
  
        > [!NOTE]  
        >  虽然使用按流量计费的 Internet 连接可能对不部署操作系统的任务序列有效，但不支持这种连接。  
  
    -   “如果用户请求此应用程序，则需要管理员批准”：在部署任务序列时，此选项不可用。  
  
    -   “可用于以下项目”：指定任务序列是否可用于 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 客户端、媒体或者 PXE。  
  
        > [!IMPORTANT]  
        >  将“仅媒体和 PXE \(隐藏\)”设置用于自动化任务序列部署。 选择“允许无人参与的操作系统部署”，并将 SMSTSPreferredAdvertID 变量设置为媒体的一部分，以让计算机在无用户干预的情况下自动启动到该部署。 有关任务序列变量的详细信息，请参阅 [ystem Center Configuration Manager 中的任务序列内置变量](../LocTest/Task-sequence-built-in-variables-in-System-Center-Configuration-Manager.md)  
  
7.  在“计划”页上，指定以下信息，然后单击“下一步”。  
  
    > [!IMPORTANT]  
    >  Windows PE 客户端从 PXE 或启动媒体启动时，客户端不会评估部署计划（启动、过期或截止时间）。 仅部署从完整的 Windows 操作系统启动的客户端部署中的计划。 请考虑使用其他方法（例如维护窗口）来控制部署到从 Windows PE 启动的客户端的活动任务序列。  
  
    -   **计划此部署将在何时变为可用**：指定任务序列在目标计算机上可以运行的日期和时间。 如果选中“UTC”复选框，则此设置可以确保任务序列按照目标计算机上的本地时间同时（而不是在不同时间）可用于多个目标计算机。  
  
         如果启动时间早于所需时间，则客户端会在你指定的启动时间下载任务序列。  
  
    -   **计划此部署将在何时过期**：指定任务序列在目标计算机上过期的日期和时间。 如果选中“UTC”复选框，则此设置可以确保任务序列按照目标计算机上的本地时间同时（而不是在不同时间）在多个目标计算机上到期。  
  
    -   “分配计划”：指定在目标计算机上运行所需任务序列的时间。 你可以添加多个计划。  
  
         你可以指定计划的开始日期和时间、任务序列是每周、每月还是按自定义的间隔运行，以及在诸如登录或注销计算机之类的事件之后任务序列是否运行。  
  
        > [!NOTE]  
        >  如果计划的所需任务序列的开始时间早于任务序列的可用日期和时间，则 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 客户端在计划的开始时间下载任务序列，即使任务序列在更早时间可用也不例外。  
  
    -   “重新运行行为”：指定重新运行任务序列的时间。 你可以指定以下选项之一。  
  
        -   “从不重新运行已部署的程序”：如果以前在客户端上已经运行了任务序列，则不在客户端上重新运行任务序列。 即使任务序列最初失败或者任务序列文件已经发生更改，也不会重新运行此任务序列。  
  
        -   “始终重新运行程序”：计划部署时始终在客户端上重新运行任务序列，即使以前成功运行了任务序列也不例外。 如果你使用在其中例行更新任务序列的定期部署，则此设置特别有用。  
  
            > [!IMPORTANT]  
            >  虽然默认情况下设置了此选项，但在你分配所需部署之前，它不会产生影响。 用户始终可以重新运行可用的部署。  
  
        -   “如果上次尝试失败则重新运行”：只有在以前未成功运行任务序列的情况下，才在计划部署时重新运行任务序列。 此设置对于所需部署特别有用，因此如果上次尝试运行不成功，则将根据分配计划自动重试运行任务序列。  
  
        -   如果上次尝试成功则重新运行：只有当以前在客户端上成功运行了任务序列时才重新运行任务序列。 如果你使用在其中例行更新任务序列的定期部署，并且每个更新都要求成功安装以前的更新，则此设置很有用。  
  
        > [!NOTE]  
        >  因为用户可以重新运行可用的任务序列部署，所以请确保在生产环境中部署可用的任务序列之前仔细进行评估，并测试用户多次重新运行任务序列会出现什么情况。  
  
8.  在“用户体验”页上，指定以下信息，然后单击“下一步”。  
  
    -   “允许用户独立于分配运行程序”：指定是否允许用户独立于部署分配运行所需的任务序列。  
  
    -   **显示任务序列进度**：指定 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 客户端是否显示任务序列的进度。  
  
    -   **软件安装**：指定在计划的时间之后是否允许用户在已配置的维护时段之外安装软件。  
  
    -   “系统重新启动（如果要求完成安装）”：指定是否允许用户在晚于分配时间的已配置维护时段之外安装软件后重启计算机。  
  
    -   “允许任务序列针对 Internet 上的客户端运行”：指定是否允许针对被 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 检测到在 Internet 上的基于 Internet 的客户端运行任务序列。 此设置不支持安装诸如操作系统之类的软件的操作。 请将此选项仅用于在标准操作系统中执行操作的基于通用脚本的任务序列。  
  
9. 在“警报”页上，为此任务序列部署指定所需的警报设置，然后单击“下一步”。  
  
10. 在“分发点”页上，指定以下信息，然后单击“下一步”。  
  
    -   “部署选项”：指定下列选项之一：  
  
        > [!NOTE]  
        >  如果使用多播部署操作系统，则必须在需要时或者在运行任务序列之前将内容下载到目标计算机。  
  
        -   指定客户端在任务序列需要内容时从分发点将内容下载到目标计算机。  
  
        -   指定客户端在运行任务序列之前从分发点将所有内容下载到目标计算机。 如果已指定任务序列可用于 PXE 和启动媒体部署，则不会显示此选项（请参阅“部署设置”页）。  
  
        -   指定客户端从分发点运行内容。 只有当与任务序列关联的所有包都能够使用分发点上的包共享时才可以使用此选项。 要使内容能够使用包共享，请参阅每个包的“属性”中的“数据访问”选项卡。  
  
    -   **在没有本地分发点可用的情况下使用远程分发点**：指定客户端是否可以使用慢速和不可靠网络上的分发点来下载任务序列所需的内容。  
  
11. 完成向导。  
  
##  <a name="BKMK_ExportImport"></a> 导出和导入任务序列  
 你可以导出和导入包含或不包含其相关对象（如操作系统映像包、启动映像、客户端代理包、驱动程序包以及具有依赖关系的应用程序）的任务序列。  
  
 导出和导入任务序列时，请考虑下列各项。  
  
-   不会导出任务序列中存储的密码。 如果导出和导入包含密码的任务序列，则必须编辑导入的任务序列，并重新指定任何密码。 请确保为 [加入域或工作组](../LocTest/Task-sequence-steps-in-System-Center-Configuration-Manager.md#BKMK_JoinDomainorWorkgroup)、[连接到网络文件夹](../LocTest/Task-sequence-steps-in-System-Center-Configuration-Manager.md#BKMK_ConnectToNetworkFolder) 和 [运行命令行](../LocTest/Task-sequence-steps-in-System-Center-Configuration-Manager.md#BKMK_RunCommandLine) 操作指定密码。  
  
-   作为一种最佳方案，如果你具有多个主站点，请在管理中心站点导入任务序列。  
  
 使用下列步骤导出和导入任务序列。  
  
#### 导出任务序列  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库”。  
  
2.  在“软件库”工作区中，展开“操作系统”，然后单击“任务序列”。  
  
3.  在“任务序列”列表中，选择要导出的任务序列。 如果选择多个任务序列，则会将它们存储在一个导出文件上。  
  
4.  在“主页”选项卡上的“任务序列”组中，单击“导出”以启动导出任务序列向导。  
  
5.  在“常规”页上，指定以下设置，然后单击“下一步”。  
  
    -   在“文件”框中，指定导出文件的位置和名称。 如果直接输入文件名，请确保在文件名中包括 .zip 扩展名。 如果浏览导出文件，则向导会自动添加此文件扩展名。  
  
    -   如果不想导出任务序列依赖项，请清除“导出所有任务序列依赖项”复选框。 默认情况下，向导会扫描所有相关对象并与任务序列一起导出它们。 这包括应用程序的任何依赖项。  
  
    -   如果不想将包源中的内容复制到导出位置，请清除“导出所选任务序列和依赖项的所有内容”复选框。 如果选中此复选框，则导入任务序列向导使用导入路径作为新包源位置。  
  
    -   在“管理员备注”框中，添加要导出的任务序列的描述。  
  
6.  完成向导。  
  
 该向导会创建以下输出文件：  
  
-   如果不导出内容，则为一个 .zip 文件。  
  
-   如果导出内容，则为一个 .zip 文件和一个名为 *export*\_files 的文件夹，其中 *export* 是包含导出内容的 .zip 文件的名称。  
  
 如果导出任务序列时包括内容，请确保复制 .zip 文件和 *export*\_files 文件夹，否则导入将失败。  
  
#### 导入任务序列  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库”。  
  
2.  在“软件库”工作区中，展开“操作系统”，然后单击“任务序列”。  
  
3.  在“主页”选项卡上的“创建”组中，单击“导入任务序列”以启动导入任务序列向导。  
  
4.  在“常规”页上，指定导出的 .zip 文件，然后单击“下一步”。  
  
5.  在“文件内容”页上，为要导入的每个对象选择所需的操作。 此页显示 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 将导入的所有对象。  
  
    -   如果从未导入对象，请选择“新建”。  
  
    -   如果以前导入过对象，请选择下列操作之一：  
  
        -   “忽略重复项”（默认值）：此操作不导入对象。 而是由向导将现有对象链接到任务序列。  
  
        -   “覆盖”：此操作用导入的对象覆盖现有对象。 对于应用程序，你可以添加修订以更新现有应用程序或创建新应用程序。  
  
6.  完成向导。  
  
 导入任务序列之后，请编辑任务序列以指定原始任务序列中的任何密码。 出于安全原因，不会导出密码。  
  
##  <a name="BKMK_CreateTSVariables"></a> 为计算机和集合创建任务序列变量  
 可以为计算机和集合定义自定义的任务序列变量。 为计算机定义的变量称为特定于计算机的任务序列变量。 为集合定义的变量称为特定于集合的任务序列变量。 如果有冲突，特定于计算机的变量优先于特定于集合的变量。 这就意味着，分配到特定计算机的任务序列变量会自动获得比分配到包含该计算机的集合的变量更高的优先级。  
  
 例如，集合 ABC 获分配一个变量，而作为集合 ABC 的成员的计算机 XYZ 获分配一个同名的变量，那么，分配到计算机 XYZ 的变量具有比分配到集合 ABC 的变量更高的优先级。  
  
 可以隐藏特定于计算机和特定于集合的变量，以便它们在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中不可见。 如果不想再隐藏这些变量，则必须删除它们，然后，在不选中隐藏这些变量的选项的情况下重新定义它们。 使用选项“不要在 Configuration Manager 控制台中显示此值”时，不显示该变量的值，但在其运行时任务序列仍可使用该值。  
  
 可以在主站点或管理中心站点上管理因计算机而异的变量。[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 不支持一台计算机具有 1,000 个以上的已分配变量。  
  
> [!WARNING]  
>  将特定于集合的变量用于任务序列时，请考虑下列几点：  
>   
>  -   由于对集合所做的更改始终会复制到整个层次结构中，因此，你对集合变量所做的任何更改将不仅应用到当前站点的成员，而且还会应用到集合在整个层次结构中的所有成员。  
> -   删除集合时，此操作还会删除为集合配置的任务序列变量。  
  
 使用下列过程为计算机或集合创建任务序列变量。  
  
#### 为计算机创建任务序列变量  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“资产和符合性”。  
  
2.  在“资产和符合性”工作区中，展开包含你要添加变量的计算机的集合。  
  
3.  选择计算机，然后单击“属性”。  
  
4.  在“属性”对话框中，单击“变量”选项卡。  
  
5.  对于要创建的每个变量，在“\<New\> 变量”对话框中单击“新建”图标，然后指定任务序列变量的名称和值。 若要隐藏变量使其在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中不可见，请取消选中“不在 Configuration Manager 控制台中显示此值”复选框。  
  
6.  将所有变量添加到计算机之后，单击“确定”。  
  
#### 为集合创建任务序列变量  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“资产和符合性”。  
  
2.  在“资产和符合性”工作区中，选择你要添加变量的集合，然后单击“属性”。  
  
3.  在“属性”对话框中，单击“集合变量”选项卡。  
  
4.  对于要创建的每个变量，在“\<New\> 变量”对话框中单击“新建”图标，然后指定任务序列变量的名称和值。 若要隐藏变量使其在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中不可见，请取消选中“不在 Configuration Manager 控制台中显示此值”复选框。  
  
5.  根据需要为 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 指定要在评估任务序列变量时使用的优先级。  
  
6.  将所有变量添加到集合之后，单击“确定”。  
  
##  <a name="BKMK_AdditionalActionsTS"></a> 用于管理任务序列的其他操作  
 在使用下列过程选择任务序列时，可以使用其他操作来管理任务序列。  
  
#### 选择要管理的任务序列  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库”。  
  
2.  在“软件库”工作区中，展开“操作系统”，然后单击“任务序列”。  
  
3.  在“任务序列”列表中，选择要管理的任务序列，然后选择可用的选项之一。  
  
 使用下表以了解有关其他一些用于管理任务序列的操作的详细信息。  
  
|操作|描述|  
|--------|--------|  
|**复制**|为所选的任务序列创建副本。 在要根据现有的任务序列创建新的任务序列时，你可能会发现此操作很有用。<br /><br /> 为某个文件夹中的任务序列创建副本时，副本会在该文件夹中列出，直至你刷新任务序列节点为止。  刷新后，副本将出现在根文件夹中。|  
|**禁用**|禁用任务序列，以便它无法在计算机上运行。 可以将禁用的任务序列部署到计算机，但在启用任务序列之前，计算机不会运行它。|  
|**启用**|启用任务序列，以便可以运行它。 在启用已部署的任务序列后，无需重新部署它。|  
|**创建预留的内容文件**|启动“创建预留的内容文件向导”以预留任务序列内容。 有关如何创建预留的内容文件的信息，请参阅[Prestage content](../LocTest/Manage-content-and-content-infrastructure-for-System-Center-Configuration-Manager.md#BKMK_PrestageContent)。|  
|**移动**|将所选的任务序列移动到另一个文件夹。|  
|**属性**|打开所选任务序列的“属性”对话框。 使用此对话框更改任务序列对象的行为。 但是，无法使用此对话框更改任务序列的步骤。|  
  
## 请参阅  
 [在 System Center Configuration Manager 中自动执行任务](../LocTest/Automate-tasks-in-System-Center-Configuration-Manager.md)