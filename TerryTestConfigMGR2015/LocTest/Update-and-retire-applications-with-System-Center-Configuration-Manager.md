---
title: "使用 System Center Configuration Manager 更新和停用应用程序"
ms.custom: na
ms.date: 09/02/2016
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: 
  - configmgr-app
ms.tgt_pltfrm: na
ms.topic: article
applies_to: 
  - System Center Configuration Manager (current branch)
ms.assetid: 68ac8a07-8e54-4a3c-91e3-e50dc1cabf5d
caps.latest.revision: 9
caps.handback.revision: 6
author: barlanmsft
---
# 使用 System Center Configuration Manager 更新和停用应用程序
稍后，你可能希望对应用程序进行更改、将其卸载或将已部署的应用程序替换为新的应用程序。[!INCLUDE[cm6long](../LocTest/includes/cm6long_md.md)] 包括以下功能，可帮助你：  
  
-   [修订应用程序](#BKMK_Revise) \- 对应用程序进行更改时，[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 将维护这些更改的历史记录。 你可以随时将应用程序还原到以前的修订版本。  
  
-   [取代应用程序](#BKMK_Supersede) \- 让你可通过使用取代关系来替换或升级现有应用程序。 在取代应用程序时，你可以指定新部署类型来替换被取代应用程序的部署类型，还可配置是否在安装取代应用程序之前升级或卸载被取代应用程序。  
  
-   [卸载应用程序](#BKMK_Uninstall) \- [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 让卸载应用程序变得轻松。此操作可以在在无提示的情况下完成，而不需要最终用户干预。  
  
##  <a name="BKMK_Revise"></a> 修订应用程序  
 修订应用程序或应用程序中包含的部署类型时，[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 会创建应用程序的新版本。 你可以显示每个应用程序修订版本的历史记录。 也可以查看其属性、还原应用程序的以前版本或删除旧版本。  
  
> [!IMPORTANT]  
>  如果还原应用程序修订版本，或者创建新应用程序修订版本并修改应用程序部署类型之一的检测方法，则在接下来评估部署计划时可能会自动替换安装的应用程序副本。 为了加强控制应用程序替换，请创建一个新应用程序以取代你想要替换的应用程序，然后将此应用程序部署到所需的集合。 有关详细信息，请参阅 [取代应用程序](#BKMK_Supersede)。  
  
#### 显示应用程序修订版本历史记录  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库”。  
  
2.  在“软件库”工作区中，展开“应用程序管理”，单击“应用程序”，然后单击所需的应用程序。  
  
3.  在“主页”选项卡上的“应用程序”组中，单击“修订版本历史记录”以打开“应用程序修订版本历史记录”对话框。  
  
#### 查看应用程序修订版本  
  
1.  在“应用程序修订版本历史记录”对话框中，选择应用程序修订版本，然后单击“查看”。  
  
2.  在“属性”对话框中，检查所选应用程序的属性。  
  
    > [!NOTE]  
    >  所显示的应用程序属性为只读。  
  
3.  关闭“属性”对话框。  
  
#### 还原应用程序修订版本  
  
1.  在“应用程序修订版本历史记录”对话框中，选择应用程序修订版本，然后单击“还原”。  
  
2.  在“确认修订版本还原”对话框中，单击“是”以还原所选应用程序修订版本。  
  
#### 删除应用程序修订版本  
  
1.  在“应用程序修订版本历史记录”对话框中，选择应用程序修订版本，然后单击“删除”。  
  
2.  在“删除应用程序修订版本”对话框中，单击“是”。  
  
    > [!NOTE]  
    >  只有当应用程序已停止使用并且不包含参考时才能删除当前应用程序修订版本。  
  
##  <a name="BKMK_Supersede"></a> 取代应用程序  
 [!INCLUDE[cm5long](../LocTest/includes/cm5long_md.md)] 中的应用程序管理允许你通过使用取代关系升级或替换现有应用程序。 在取代应用程序时，你可以指定新部署类型来替换被取代应用程序的部署类型，还可配置是否在安装取代应用程序之前升级或卸载被取代应用程序。  
  
 在取代应用程序时，这一点适用于所有将来的部署和应用程序目录请求。 这一点将不影响应用程序的现有安装。  
  
> [!IMPORTANT]  
>  如果选择了卸载被取代部署类型的选项，则部署类型无法由部署到其他集合类型的部署类型取代。  例如，如果选择了卸载被取代部署类型的选项，则部署到设备集合的部署类型无法由部署到用户集合的部署类型取代。  
  
### 决定是升级还是替换应用程序  
 在应用程序属性对话框的“指定取代关系”对话框中指定是替换还是升级应用。 取代类型取决于是否在此对话框中选中“卸载”选项：  
  
-   如果希望更新到同一应用程序（具有相同应用程序 ID）的较新版本，请“勿”勾选“卸载”。  
  
-   如果希望更改为其他应用程序（具有不同应用程序 ID），请选中“卸载”。 将需要删除应用程序的被取代版本。  
  
### 取代从属应用程序  
 在这些示例中，“主应用程序”是指要部署的包含依赖项的应用。  
  
 如果想要将从属应用程序替换为新的从属应用程序，必须执行以下步骤：  
  
> [!NOTE]  
>  [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 不支持使用取代关系来取代从属应用程序。  
  
1.  创建新的从属应用程序  
  
2.  删除原始从属应用程序  
  
 （删除原始从属应用程序之前）存在两个依赖项时，主应用程序的新安装将安装新的从属应用程序。 现有安装将保留原始从属应用程序。  
  
 删除原始从属应用程序后，所有设备都将更新到新的从属应用程序。  
  
## 更多注意事项  
  
-   可为从属应用程序指定多个取代关系。 将安装取代链中依赖性最高的从属应用程序。  
  
-   必须将从属应用程序部署到安装了主应用程序的设备，否则将不会安装该从属应用程序。  
  
-   对于主应用程序的新安装，当具有多个依赖项时，依赖关系顺序决定要安装的从属应用程序版本。  
  
#### 指定取代关系  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库”。  
  
2.  在“软件库”工作区中，展开“应用程序管理”，单击“应用程序”，然后单击将取代另一个应用程序的应用程序。  
  
3.  在“主页”选项卡的“属性”组中，单击“属性”打开*“\<Application Name\>* 属性”对话框。  
  
4.  在*“\<Application Name\>* 属性”对话框的“取代”选项卡上，单击“添加”。  
  
5.  在“指定取代关系”对话框中，单击“浏览”。  
  
6.  在“选择应用程序”对话框中，选择要取代的应用程序，然后单击“确定”。  
  
7.  在“指定取代关系”对话框中，选择将替代被取代应用程序的部署类型的部署类型。  
  
    > [!NOTE]  
    >  默认情况下，新部署类型将不会卸载被取代应用程序的部署类型。 当你希望将升级部署到现有应用程序时，将使用此方案。 选择“卸载”以在安装新部署类型之前删除现有部署类型。 如果你决定升级应用程序，请确保先在实验室环境中测试这一点。  
  
8.  单击“确定”关闭“指定取代关系”对话框。  
  
9. 单击“确定”以关闭 *\<应用程序名称\>*“属性”对话框。  
  
#### 显示取代当前应用程序的应用程序  
  
1.  在 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 控制台中，单击“软件库”。  
  
2.  在“软件库”工作区中，展开“应用程序管理”，单击“应用程序”，然后单击所需的应用程序。  
  
3.  在“主页”选项卡的“属性”组中，单击“属性”打开*“\<Application Name\>* 属性”对话框。  
  
4.  在*“\<Application Name\>* 属性”对话框的“引用”选项卡上，从“关系类型”下拉列表中选择“可取代此应用程序的应用程序”。  
  
5.  查看可取代所选应用程序的应用程序列表，然后单击“确定”以关 *“\<Application Name\>* 属性”对话框。  
  
##  <a name="BKMK_Uninstall"></a> 卸载应用程序  
 执行下列步骤，以使用 [!INCLUDE[cm5long](../LocTest/includes/cm5long_md.md)] 卸载应用程序：  
  
-   在“创建部署类型向导”的“内容”页上，指定用于卸载部署类型内容的命令行。  
  
-   使用“卸载”这项部署操作来部署应用程序。  
  
> [!IMPORTANT]  
>  某些应用程序类型不支持卸载。  
  
 以下列表提供了有关应用程序卸载行为的详细信息：  
  
-   在卸载某个 [!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 应用程序时，不会自动卸载依赖它的应用程序。  
  
-   如果将使用“卸载”操作的应用程序部署到某用户，则会为计算机的所有用户安装该应用程序，但是，如果此用户的帐户没有卸载该应用程序的权限，则卸载可能会失败。  
  
-   如果从应用程序部署到的集合中删除用户或设备，则不会自动从设备中删除应用程序。  
  
-   部署目的为“卸载”的部署不会检查要求规则。 如果在运行部署的计算机上安装应用程序，则将会卸载它。  
  
-   当使用“卸载”部署操作部署类型为“通过 MDM 的 Windows Installer \(\*.msi\)”的应用程序时，[!INCLUDE[cmshort](../LocTest/includes/cmshort_md.md)] 将自动应用卸载应用程序所需正确 MSI 参数。  
  
> [!IMPORTANT]  
>  在可以利用“卸载”这项部署操作来部署应用程序之前，必须删除部署到集合的应用程序的任何现有部署或模拟部署。  
  
 有关如何创建部署类型的详细信息，请参阅[如何使用 System Center Configuration Manager 创建应用程序](../LocTest/How-to-create-applications-with-System-Center-Configuration-Manager.md)。  
  
 有关如何部署应用程序的详细信息，请参阅[如何使用 System Center Configuration Manager 部署应用程序](../LocTest/How-to-deploy-applications-with-System-Center-Configuration-Manager.md)。  
  
#### 卸载应用程序  
  
1.  使用下列方法之一，通过卸载命令行来配置应用程序部署类型：  
  
    -   在“创建部署类型向导”的“常规”页上，选择选项“从安装文件中自动识别有关此部署类型的信息”。 如果安装文件中提供了此信息，则卸载命令行会自动添加到部署类型属性中。  
  
    -   在“创建部署类型向导”的“内容”页上，在“卸载程序”字段中指定用于卸载应用程序的命令行。  
  
        > [!NOTE]  
        >  只有在“创建部署类型向导”的“常规”页上选择了选项“手动指定部署类型信息”后，才会显示“内容”页面。  
  
    -   在 *\<deployment type name\>*“属性”对话框“程序”选项卡的“卸载程序”字段中指定命令行卸载应用程序。  
  
2.  在“部署软件向导”的“部署设置”页面中，部署应用程序并选择部署操作“卸载”  
  
    > [!NOTE]  
    >  在选择部署操作“卸载”时，部署目的会自动配置为“必需”。  
  
## 请参阅  
 [使用 System Center Configuration Manager 部署并管理应用程序](../LocTest/Deploy-and-manage-applications-with-System-Center-Configuration-Manager.md)